{
  "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
  "display": "AMPATH POC Adult Return Visit Form v1.2",
  "name": "AMPATH POC Adult Return Visit Form v1.2",
  "description": "AMPATH POC Adult Return Visit Form v1.2",
  "encounterType": {
    "uuid": "8d5b2be0-c2cc-11de-8d13-0010c6dffd0f",
    "display": "ADULTRETURN",
    "name": "ADULTRETURN",
    "description": "Outpatient Adult Return Visit",
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/encountertype/8d5b2be0-c2cc-11de-8d13-0010c6dffd0f"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/encountertype/8d5b2be0-c2cc-11de-8d13-0010c6dffd0f?v=full"
    }],
    "resourceVersion": "1.8"
  },
  "version": "1.2",
  "build": null,
  "published": true,
  "formFields": [{
    "uuid": "371cf251-6d6c-4e29-8158-c9cb0ffd7768",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df604fae-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.GIVEN_NAME",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df604fae-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/371cf251-6d6c-4e29-8158-c9cb0ffd7768"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/371cf251-6d6c-4e29-8158-c9cb0ffd7768?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "4648f0bd-4100-4645-8c47-f17ed9fbfdc9",
    "display": null,
    "parent": null,
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df69d1f0-1350-11df-a1f1-0026b9348838",
      "display": "ENCOUNTER",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df69d1f0-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": 2,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/4648f0bd-4100-4645-8c47-f17ed9fbfdc9"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/4648f0bd-4100-4645-8c47-f17ed9fbfdc9?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "f89429fe-9824-455b-8716-ed5dbbe036ed",
    "display": null,
    "parent": null,
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df57096c-1350-11df-a1f1-0026b9348838",
      "display": "OBS",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df57096c-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": 3,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/f89429fe-9824-455b-8716-ed5dbbe036ed"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/f89429fe-9824-455b-8716-ed5dbbe036ed?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "1b9cb3e6-73be-4b64-a442-dab3d4c2169d",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df69df9c-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.MEDICAL_RECORD_NUMBER",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df69df9c-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/1b9cb3e6-73be-4b64-a442-dab3d4c2169d"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/1b9cb3e6-73be-4b64-a442-dab3d4c2169d?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "1113b921-9f1a-42e7-803b-e680b3ea2257",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df604db0-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.FAMILY_NAME",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df604db0-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/1113b921-9f1a-42e7-803b-e680b3ea2257"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/1113b921-9f1a-42e7-803b-e680b3ea2257?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "8788b609-7de2-4c97-8b4e-68a6a6939dbd",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df605148-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.MIDDLE_NAME",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df605148-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/8788b609-7de2-4c97-8b4e-68a6a6939dbd"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/8788b609-7de2-4c97-8b4e-68a6a6939dbd?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "c29a1a80-3d29-4734-8be4-bd1e7c664930",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df60542c-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.SEX",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df60542c-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/c29a1a80-3d29-4734-8be4-bd1e7c664930"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/c29a1a80-3d29-4734-8be4-bd1e7c664930?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "93f6e847-b46c-407e-93da-bd0c9888efd5",
    "display": null,
    "parent": {
      "uuid": "4648f0bd-4100-4645-8c47-f17ed9fbfdc9",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/4648f0bd-4100-4645-8c47-f17ed9fbfdc9"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df7da63a-1350-11df-a1f1-0026b9348838",
      "display": "ENCOUNTER.PROVIDER_ID",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df7da63a-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/93f6e847-b46c-407e-93da-bd0c9888efd5"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/93f6e847-b46c-407e-93da-bd0c9888efd5?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "aaa657ca-8807-4396-9220-a582e9eff53d",
    "display": null,
    "parent": {
      "uuid": "4648f0bd-4100-4645-8c47-f17ed9fbfdc9",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/4648f0bd-4100-4645-8c47-f17ed9fbfdc9"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df7da52c-1350-11df-a1f1-0026b9348838",
      "display": "ENCOUNTER.LOCATION_ID",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df7da52c-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/aaa657ca-8807-4396-9220-a582e9eff53d"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/aaa657ca-8807-4396-9220-a582e9eff53d?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "6bb3135a-6691-449d-a287-084950c4bbe9",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df570afc-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.BIRTHDATE",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df570afc-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/6bb3135a-6691-449d-a287-084950c4bbe9"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/6bb3135a-6691-449d-a287-084950c4bbe9?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
    "display": null,
    "parent": null,
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df69cfe8-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df69cfe8-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": 1,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "63565901-3abb-4089-a6c3-090d40399ff2",
    "display": null,
    "parent": {
      "uuid": "4648f0bd-4100-4645-8c47-f17ed9fbfdc9",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/4648f0bd-4100-4645-8c47-f17ed9fbfdc9"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df60580a-1350-11df-a1f1-0026b9348838",
      "display": "ENCOUNTER.ENCOUNTER_DATETIME",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df60580a-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/63565901-3abb-4089-a6c3-090d40399ff2"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/63565901-3abb-4089-a6c3-090d40399ff2?v=full"
    }],
    "resourceVersion": "1.8"
  }, {
    "uuid": "ff05be0f-9502-4b2f-ad75-7fec25fb4a45",
    "display": null,
    "parent": {
      "uuid": "d0f24956-3b84-4425-a0ec-de34f71f1c50",
      "display": null,
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/d0f24956-3b84-4425-a0ec-de34f71f1c50"
      }]
    },
    "form": {
      "uuid": "cb81f1a5-756f-4dad-b3fd-4cc7879fafc9",
      "display": "AMPATH POC Adult Return Visit Form v1.2",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
      }]
    },
    "field": {
      "uuid": "df60533c-1350-11df-a1f1-0026b9348838",
      "display": "PATIENT.PATIENT_ID",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/field/df60533c-1350-11df-a1f1-0026b9348838"
      }]
    },
    "fieldNumber": null,
    "fieldPart": null,
    "pageNumber": null,
    "minOccurs": null,
    "maxOccurs": null,
    "required": false,
    "sortWeight": 1,
    "retired": false,
    "links": [{
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/ff05be0f-9502-4b2f-ad75-7fec25fb4a45"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/formfield/ff05be0f-9502-4b2f-ad75-7fec25fb4a45?v=full"
    }],
    "resourceVersion": "1.8"
  }],
  "retired": false,
  "auditInfo": {
    "creator": {
      "uuid": "0aa4c562-e8f5-44df-89d9-55f08bf9dec3",
      "display": "username-165137",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/user/0aa4c562-e8f5-44df-89d9-55f08bf9dec3"
      }]
    },
    "dateCreated": "2017-06-20T12:22:15.000+0300",
    "changedBy": {
      "uuid": "5aa3a3ca-13a9-11df-a1f1-0026b9348838",
      "display": "username-89648",
      "links": [{
        "rel": "self",
        "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/user/5aa3a3ca-13a9-11df-a1f1-0026b9348838"
      }]
    },
    "dateChanged": "2017-07-28T14:33:09.000+0300"
  },
  "resources": [{
    "uuid": "cbc40fd9-4d25-48c5-8a7a-1c7d51009075",
    "name": "json schema",
    "valueReference": "33dde033-5197-4239-95cd-1e6d42ba63e0",
    "display": "json schema",
    "links": [{
      "rel": "value",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/resource/cbc40fd9-4d25-48c5-8a7a-1c7d51009075/value"
    }, {
      "rel": "self",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/resource/cbc40fd9-4d25-48c5-8a7a-1c7d51009075"
    }, {
      "rel": "full",
      "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9/resource/cbc40fd9-4d25-48c5-8a7a-1c7d51009075?v=full"
    }],
    "resourceVersion": "1.9"
  }],
  "links": [{
    "rel": "self",
    "uri": "https://amrs.ampath.or.ke:8443/amrs/ws/rest/v1/form/cb81f1a5-756f-4dad-b3fd-4cc7879fafc9"
  }],
  "resourceVersion": "1.9",
  "pages": [{
    "label": "Encounter Details",
    "sections": [{
      "label": "Encounter Details",
      "isExpanded": "true",
      "questions": [{
        "label": "Visit date:",
        "type": "encounterDatetime",
        "required": "true",
        "default": "",
        "id": "encDate",
        "questionOptions": {
          "rendering": "date"
        },
        "validators": [{
          "type": "date"
        }]
      }, {
        "type": "encounterProvider",
        "label": "Provider:",
        "id": "provider",
        "required": "true",
        "default": "",
        "questionOptions": {
          "rendering": "ui-select-extended"
        }
      }, {
        "type": "encounterLocation",
        "label": "Facility name (site/satellite clinic required):",
        "id": "location",
        "required": "true",
        "questionOptions": {
          "rendering": "ui-select-extended"
        }
      }]
    }]
  }, {
    "label": "Pre-Clinic Review",
    "sections": [{
      "label": "Pre-clinic Review",
      "questions": [{
        "type": "obsGroup",
        "label": "Transfer in from other centre, detailed",
        "questionOptions": {
          "concept": "0f8b7f4e-1656-46b7-bc93-d1fe4f193f5d",
          "rendering": "group"
        },
        "questions": [{
          "label": "Transfer in from other centre:",
          "id": "transferIn",
          "questionOptions": {
            "rendering": "select",
            "concept": "35ed8aad-d6fa-429e-961a-c877e1ad4953",
            "answers": [{
              "concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
              "label": "AMPATH"
            }, {
              "concept": "a89c301e-1350-11df-a1f1-0026b9348838",
              "label": "Non-AMPATH"
            }]
          },
          "type": "obs",
          "validators": []
        }, {
          "type": "personAttribute",
          "label": "If transfer in from other AMPATH clinic (specify):",
          "id": "transfered_in_to_ampath",
          "required": "false",
          "default": "",
          "questionOptions": {
            "rendering": "ui-select-extended",
            "attributeType": "7ef225db-94db-4e40-9dd8-fb121d9dc370"
          },
          "validators": [],
          "hide": {
            "hideWhenExpression": "transferIn !== 'a89c2f42-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "type": "obs",
          "label": "If non-AMPATH, specify:",
          "id": "nonAmpathSpecify",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "validators": [],
          "hide": {
            "hideWhenExpression": "transferIn !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "label": "Was this visit scheduled?",
        "id": "scheduledVisit",
        "questionOptions": {
          "rendering": "select",
          "concept": "a89ff9a6-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a89b6440-1350-11df-a1f1-0026b9348838",
            "label": "Scheduled visit"
          }, {
            "concept": "a89ff816-1350-11df-a1f1-0026b9348838",
            "label": "Unscheduled visit early"
          }, {
            "concept": "a89ff8de-1350-11df-a1f1-0026b9348838",
            "label": "Unscheduled visit late"
          }]
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "If unscheduled, actual scheduled date",
        "id": "actualDate",
        "type": "obs",
        "required": {
          "type": "conditionalRequired",
          "message": "Patient visit marked as unscheduled. Please provide the scheduled date.",
          "referenceQuestionId": "scheduledVisit",
          "referenceQuestionAnswers": ["a89ff816-1350-11df-a1f1-0026b9348838", "a89ff8de-1350-11df-a1f1-0026b9348838"]
        },
        "questionOptions": {
          "rendering": "date",
          "concept": "dc1942b2-5e50-4adc-949d-ad6c905f054e"
        },
        "validators": [{
          "type": "date",
          "allowFutureDates": "true"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(scheduledVisit) && arrayContains(['a89ff816-1350-11df-a1f1-0026b9348838','a89ff8de-1350-11df-a1f1-0026b9348838'], scheduledVisit) && isEmpty(myValue)",
          "message": "Patient visit marked as unscheduled. Please provide the scheduled date."
        }],
        "hide": {
          "hideWhenExpression": "!arrayContains(['a89ff816-1350-11df-a1f1-0026b9348838','a89ff8de-1350-11df-a1f1-0026b9348838'], scheduledVisit)"
        }
      }, {
        "label": "Patient covered by NHIF:",
        "id": "nhif",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8b02524-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8b02524-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "rendering": "select",
          "concept": "a8b02524-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "8b715fed-97f6-4e38-8f6a-c167a42f8923",
            "label": "Yes"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }]
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Person Collecting Medication",
      "questions": [{
        "label": "Visited by:",
        "id": "vistBy",
        "questionOptions": {
          "rendering": "select",
          "concept": "a89cd410-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a898c6f4-1350-11df-a1f1-0026b9348838",
            "label": "Self"
          }, {
            "concept": "01b957da-23bb-4862-819d-036364fe3faf",
            "label": "Treatment supporter"
          }]
        },
        "type": "obs",
        "validators": []
      }]
    }]
  }, {
    "label": "Medical History",
    "sections": [{
      "label": "Social History",
      "questions": [{
        "label": "Civil status:",
        "type": "obs",
        "historicalExpression": "HD.getObject('prevEnc').getValue('a899a9f2-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "rendering": "select",
          "concept": "a899a9f2-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899af10-1350-11df-a1f1-0026b9348838",
            "label": "Cohabitating"
          }, {
            "concept": "a899ad58-1350-11df-a1f1-0026b9348838",
            "label": "Divorced"
          }, {
            "concept": "a8aa76b0-1350-11df-a1f1-0026b9348838",
            "label": "Married monogamous"
          }, {
            "concept": "a8b03712-1350-11df-a1f1-0026b9348838",
            "label": "Married polygamous"
          }, {
            "concept": "a899aba0-1350-11df-a1f1-0026b9348838",
            "label": "Separated"
          }, {
            "concept": "a899ac7c-1350-11df-a1f1-0026b9348838",
            "label": "Single"
          }, {
            "concept": "a899ae34-1350-11df-a1f1-0026b9348838",
            "label": "Widowed"
          }]
        },
        "validators": []
      }, {
        "label": "Discordant couple:",
        "questionOptions": {
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }, {
            "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
            "label": "Unknown"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }],
          "concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
          "rendering": "select"
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Prevention With Positives",
      "questions": [{
        "label": "Prevention with positives: At risk population:",
        "required": false,
        "historicalExpression": "HD.getObject('prevEnc').getValue('93aa3f1d-1c39-4196-b5e6-8adc916cd5d6')",
        "questionOptions": {
          "rendering": "select",
          "concept": "93aa3f1d-1c39-4196-b5e6-8adc916cd5d6",
          "answers": [{
            "concept": "5da55301-e28e-4fdf-8b64-02622dedc8b0",
            "label": "Client of sex worker"
          }, {
            "concept": "a89ff438-1350-11df-a1f1-0026b9348838",
            "label": "Commercial sex worker"
          }, {
            "concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
            "label": "Discordant couple"
          }, {
            "concept": "a890d57a-1350-11df-a1f1-0026b9348838",
            "label": "IV drug use"
          }, {
            "concept": "e19c35f0-12f0-46c2-94ea-97050f37b811",
            "label": "MSM"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }]
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && (_.isEmpty(visitEnc.getObject('a44ad5e2-b3ec-42e7-8cfa-8ba3dbcf5ed7')) || _.isEmpty(visitEnc.getObject('a44ad5e2-b3ec-42e7-8cfa-8ba3dbcf5ed7').getValue('93aa3f1d-1c39-4196-b5e6-8adc916cd5d6')))",
          "message": "Required!"
        }]
      }, {
        "label": "Prevention with positives: PWP services:",
        "id": "pwpServices",
        "required": false,
        "historicalExpression": "HD.getObject('prevEnc').getValue('9ce5dbf0-a141-4ad8-8c9d-cd2bf84fe72b')",
        "questionOptions": {
          "rendering": "select",
          "concept": "9ce5dbf0-a141-4ad8-8c9d-cd2bf84fe72b",
          "answers": [{
            "concept": "f0a280e8-eb88-41a8-837a-f9949ed1b9cd",
            "label": "Condom promotion/provision"
          }, {
            "concept": "bf51f71e-937c-4da5-ae07-654acf59f5bb",
            "label": "Couple counseling"
          }, {
            "concept": "91f43249-73c7-427c-8300-2038fc0d6be8",
            "label": "Needle exchange"
          }, {
            "concept": "05656545-86be-4605-9527-34fb580534b1",
            "label": "Targeted risk reduction"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }]
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Hospitalization History",
      "questions": [{
        "type": "obsGroup",
        "label": "Recent hospitalizations",
        "questionOptions": {
          "rendering": "group",
          "concept": "a8a003a6-1350-11df-a1f1-0026b9348838"
        },
        "questions": [{
          "label": "Was the patient hospitalized since last visit?",
          "id": "wasHospitalized",
          "questionOptions": {
            "concept": "a898c56e-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
              "label": "Yes"
            }, {
              "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
              "label": "No"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": []
        }]
      }, {
        "type": "obsGroup",
        "label": "If yes reason for hospitalization:",
        "questionOptions": {
          "concept": "a8a003a6-1350-11df-a1f1-0026b9348838",
          "rendering": "repeating"
        },
        "questions": [{
          "label": "Reason for hospitalization:",
          "id": "hospReason",
          "questionOptions": {
            "concept": "a8a07a48-1350-11df-a1f1-0026b9348838",
            "rendering": "problem"
          },
          "type": "obs",
          "validators": [{
            "type": "conditionalAnswered",
            "message": "Providing diagnosis but didn't answer that patient was hospitalized in question",
            "referenceQuestionId": "wasHospitalized",
            "referenceQuestionAnswers": ["a899b35c-1350-11df-a1f1-0026b9348838"]
          }, {
            "type": "js_expression",
            "failsWhenExpression": "isEmpty(myValue) && !isEmpty(wasHospitalized) && wasHospitalized === 'a899b35c-1350-11df-a1f1-0026b9348838'",
            "message": "Patient previously marked as hospitalized. Please provide hospitalization reason."
          }],
          "hide": {
            "hideWhenExpression": "wasHospitalized !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }]
    }, {
      "label": "Reproductive History",
      "isExpanded": "true",
      "questions": [{
        "label": "How many pregnancies have you had?",
        "type": "obs",
        "id": "noPregnancy",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8aaf59a-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8aaf59a-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a8aaf59a-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "max": "50",
          "min": "0"
        },
        "hide": {
          "hideWhenExpression": "sex !== 'F'"
        }
      }, {
        "label": "How many pregnancies have you delivered?",
        "type": "obs",
        "id": "noDelivery",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a899a920-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a899a920-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a899a920-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "min": "0"
        },
        "hide": {
          "hideWhenExpression": "sex !== 'F'"
        }
      }, {
        "label": "Menstruation status:",
        "id": "menStatus",
        "required": "true",
        "questionOptions": {
          "concept": "a8a185d2-1350-11df-a1f1-0026b9348838",
          "rendering": "select",
          "answers": [{
            "label": "Menstruating",
            "concept": "a8ad2b4e-1350-11df-a1f1-0026b9348838"
          }, {
            "label": "Postmenopausal",
            "concept": "5cc1c1a7-dfcc-47dc-ad73-c386c188fad8"
          }, {
            "label": "Hormonal amenorrhea",
            "concept": "a8a18514-1350-11df-a1f1-0026b9348838"
          }]
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "sex !== 'F'"
        }
      }, {
        "label": "LMP:",
        "id": "lmpDate1",
        "questionOptions": {
          "concept": "a89ff758-1350-11df-a1f1-0026b9348838",
          "rendering": "date"
        },
        "type": "obs",
        "validators": [{
          "type": "date"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(pattype1) && pattype1 === '375e6d4a-ba94-41ac-8ac3-5a56015c4d92'",
          "message": "Patient is antenatal. Please provide LMP."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(menStatus) && menStatus === 'a8ad2b4e-1350-11df-a1f1-0026b9348838'",
          "message": "Patient is menstruating. Please provide LMP."
        }],
        "hide": {
          "hideWhenExpression": "menStatus !== 'a8ad2b4e-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Is the patient pregnant?",
        "id": "pregnant",
        "questionOptions": {
          "concept": "6b4f1d00-0a27-41dd-a299-fb7dc730819c",
          "rendering": "select",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }]
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && moment(encDate).diff(moment(lmpDate1), 'days') >= 35",
          "message": "Last LMP is greater than 35 days. Please indicate patient's pregnancy status."
        }],
        "hide": {
          "hideWhenExpression": "sex !== 'F' || menStatus !== 'a8ad2b4e-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "EDD:",
        "id": "delDate",
        "required": "true",
        "questionOptions": {
          "concept": "a8aaddbc-1350-11df-a1f1-0026b9348838",
          "rendering": "date",
          "calculate": {
            "calculateExpression": "moment(lmpDate1).isValid() ? moment(lmpDate1).add(280, 'days').toDate():''"
          }
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "(new moment(lmpDate1)).isAfter((new moment(myValue)), 'day') || (new moment(lmpDate1)).isSame((new moment(myValue)), 'day')",
          "message": "EDD should be greater than the encounter date."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(pregnant) && pregnant === 'a899b35c-1350-11df-a1f1-0026b9348838'",
          "message": "Patient is pregnant. Please provide EDD."
        }],
        "hide": {
          "hideWhenExpression": "pregnant !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Reason patient not pregnant?",
        "id": "reasonNotPreg",
        "questionOptions": {
          "concept": "f701166d-9820-420d-b0bc-c98ad4747dec",
          "rendering": "select",
          "answers": [{
            "concept": "5bafcbc0-e499-4741-85e3-52e93f68f08c",
            "label": "Pregnancy not suspected"
          }, {
            "concept": "6cb93e09-cd9a-4333-994a-9cd65dfa8c12",
            "label": "Pregnancy test is negative"
          }, {
            "concept": "c662737e-d529-4b49-9ad3-2d72eeb56b45",
            "label": "Using hormonal contraceptive"
          }, {
            "concept": "3bca6c9c-333c-433e-ac07-7e44e0501b49",
            "label": "postpartum < 6 weeks"
          }]
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(pregnant) && pregnant === 'a899b42e-1350-11df-a1f1-0026b9348838'",
          "message": "Patient is not pregnant. Please provide reasons."
        }],
        "hide": {
          "hideWhenExpression": "pregnant !== 'a899b42e-1350-11df-a1f1-0026b9348838'"
        }
      }]
    }, {
      "label": "Family Planning Profile",
      "isExpanded": "true",
      "questions": [{
        "label": "Is the client using condoms?",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a00090-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a00090-1350-11df-a1f1-0026b9348838')",
        "id": "condomUse",
        "questionOptions": {
          "concept": "a8a00090-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": []
      }, {
        "type": "obsGroup",
        "label": "Family planning, detailed",
        "questionOptions": {
          "concept": "767e8060-5272-4927-ab78-97534a4499ef",
          "rendering": "group"
        },
        "questions": [{
          "label": "Select modern contraception method:",
          "required": "true",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a894b1cc-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a894b1cc-1350-11df-a1f1-0026b9348838')",
          "id": "fpMethod",
          "questionOptions": {
            "concept": "a894b1cc-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
              "label": "None"
            }, {
              "concept": "a8a713f8-1350-11df-a1f1-0026b9348838",
              "label": "Bilateral tubal ligation"
            }, {
              "concept": "a123d949-31f3-4abf-98e3-8504e17ebc00",
              "label": "3-year implant"
            }, {
              "concept": "feb48308-a56f-4754-8e8f-8c1698e570cb",
              "label": "5-year implant"
            }, {
              "concept": "f8c66a32-3660-4233-ae51-d3a4a1eac44e",
              "label": "IUCD copper"
            }, {
              "concept": "236dba53-1062-46b4-8067-ec8711897dbf",
              "label": "IUCD hormonal"
            }, {
              "concept": "a8988b44-1350-11df-a1f1-0026b9348838",
              "label": "Injectables (Depo)"
            }, {
              "concept": "a897dbd6-1350-11df-a1f1-0026b9348838",
              "label": "OCP"
            }, {
              "concept": "eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc",
              "label": "Vasectomy"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": []
        }, {
          "type": "obs",
          "label": "Approximate start date (If FP is 3-year implant/5-year implant/Injectables/Vasectomy/IUCD Copper/IUCD Hormonal/Bilateral tubal ligation)",
          "id": "appStartDate",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a89ae092-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('767e8060-5272-4927-ab78-97534a4499ef.a89ae092-1350-11df-a1f1-0026b9348838')",
          "questionOptions": {
            "concept": "a89ae092-1350-11df-a1f1-0026b9348838",
            "rendering": "date"
          },
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
            "message": "Start date should be before the encounter date."
          }, {
            "type": "js_expression",
            "failsWhenExpression": "isEmpty(myValue) && !(isEmpty(fpMethod) || !arrayContainsAny(fpMethod,['a123d949-31f3-4abf-98e3-8504e17ebc00','feb48308-a56f-4754-8e8f-8c1698e570cb','eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc','a8988b44-1350-11df-a1f1-0026b9348838','a8a713f8-1350-11df-a1f1-0026b9348838','f8c66a32-3660-4233-ae51-d3a4a1eac44e','236dba53-1062-46b4-8067-ec8711897dbf']))",
            "message": "Start date is required."
          }],
          "hide": {
            "hideWhenExpression": "isEmpty(fpMethod) || arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a897dbd6-1350-11df-a1f1-0026b9348838'],fpMethod)"
          }
        }]
      }, {
        "label": "Does the client wish to become pregnant in less than a year?",
        "id": "pregInaYear",
        "questionOptions": {
          "concept": "3ffd9c53-2638-4db2-8c2d-5f025c2a1bfb",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(fpMethod) && !arrayContainsAny(fpMethod,['a123d949-31f3-4abf-98e3-8504e17ebc00','feb48308-a56f-4754-8e8f-8c1698e570cb','eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc','a8a71330-1350-11df-a1f1-0026b9348838','a8a71650-1350-11df-a1f1-0026b9348838','a8a713f8-1350-11df-a1f1-0026b9348838','f8c66a32-3660-4233-ae51-d3a4a1eac44e', '236dba53-1062-46b4-8067-ec8711897dbf', 'a8988b44-1350-11df-a1f1-0026b9348838', 'a897dbd6-1350-11df-a1f1-0026b9348838']) && sex === 'F' && menStatus !=='5cc1c1a7-dfcc-47dc-ad73-c386c188fad8'",
          "message": "Based on current contraception method selected, you must answer this question."
        }],
        "hide": {
          "hideWhenExpression": "sex !== 'F'  || fpMethod !== 'a899e0ac-1350-11df-a1f1-0026b9348838'|| menStatus ==='5cc1c1a7-dfcc-47dc-ad73-c386c188fad8'"
        }
      }]
    }, {
      "label": "Cancer Screening",
      "questions": [{
        "label": "Cervical cancer screening:",
        "id": "cervicalCancerScreening",
        "questionOptions": {
          "concept": "cf33d31f-b96b-4437-a6b8-ff5f43855f9b",
          "rendering": "select",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }]
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "sex !== 'F'"
        }
      }, {
        "label": "VIA test result:",
        "type": "obs",
        "id": "VIATestResult",
        "questionOptions": {
          "concept": "f165c64a-9354-4145-9b06-4ee437630218",
          "rendering": "select",
          "answers": [{
            "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
            "label": "Positive"
          }, {
            "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
            "label": "Negative"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }],
          "showDate": "true",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "isEmpty(myValue) && !isEmpty(VIATestResult) && VIATestResult !== 'a89ad3a4-1350-11df-a1f1-0026b9348838' ",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(VIATestResult)"
            }
          }
        },
        "hide": {
          "hideWhenExpression": "sex !== 'F' || isEmpty(cervicalCancerScreening) || cervicalCancerScreening !== 'a899b35c-1350-11df-a1f1-0026b9348838' "
        }
      }]
    }, {
      "label": "Adult Vaccination",
      "questions": [{
        "label": "Immunization history:",
        "type": "obs",
        "questionOptions": {
          "rendering": "multiCheckbox",
          "concept": "507d7df8-2da6-4ace-93b8-4271620f27c5",
          "answers": [{
            "concept": "a897dd84-1350-11df-a1f1-0026b9348838",
            "label": "Hepatitis B"
          }, {
            "concept": "a8a70746-1350-11df-a1f1-0026b9348838",
            "label": "Flu"
          }]
        },
        "validators": []
      }]
    }]
  }, {
    "label": "ART History",
    "sections": [{
      "label": "ART History",
      "isExpanded": "true",
      "questions": [{
        "label": "Patient currently on ART:",
        "required": "true",
        "id": "onArt",
        "historicalExpression": "arrayContainsAny(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'], HD.getObject('prevEnc').getValue('a89b75d4-1350-11df-a1f1-0026b9348838')) ? 'a899b35c-1350-11df-a1f1-0026b9348838' : HD.getObject('prevEnc').getValue('a89ae254-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a89ae254-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Reason for use:",
        "id": "reasonUse",
        "type": "obs",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a30d1c-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a30d1c-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a8a30d1c-1350-11df-a1f1-0026b9348838",
          "rendering": "select",
          "answers": [{
            "concept": "a89adc46-1350-11df-a1f1-0026b9348838",
            "label": "Treatment"
          }, {
            "concept": "a8a19c20-1350-11df-a1f1-0026b9348838",
            "label": "PEP"
          }, {
            "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
            "label": "pMTCT"
          }]
        },
        "validators": [],
        "hide": {
          "hideWhenExpression": "onArt!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "If patient started ART since last visit, enter start date:",
        "id": "startDate",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a89d200a-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a89d200a-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a89d200a-1350-11df-a1f1-0026b9348838",
          "rendering": "date"
        },
        "type": "obs",
        "validators": [{
          "type": "date"
        }],
        "hide": {
          "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Line of ART patient is taking:",
        "id": "current_arv_line",
        "historicalExpression": "!_.isEmpty(HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('04616f5d-b961-4f41-bbd7-bcc0dd235577')",
        "questionOptions": {
          "concept": "04616f5d-b961-4f41-bbd7-bcc0dd235577",
          "answers": [{
            "concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
            "label": "First line regimen"
          }, {
            "concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
            "label": "Second line regimen"
          }, {
            "concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
            "label": "Third line regimen"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838'",
          "message": "Patient previously marked as on ART. Please provide the treatment category."
        }],
        "hide": {
          "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Patient's current ART regimen, adults:",
        "id": "current_art_regimen_adult",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')) ? (_.isEmpty(HD.getObject('prevEnc').getValue('a8a08344-1350-11df-a1f1-0026b9348838'))? HD.getObject('prevEnc').getValue('a899cf5e-1350-11df-a1f1-0026b9348838') : HD.getObject('prevEnc').getValue('a8a08344-1350-11df-a1f1-0026b9348838.a899cf5e-1350-11df-a1f1-0026b9348838')) : HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a899cf5e-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "6a73f32d-1870-4527-af6e-74443251ded2",
            "label": "NVP200/ZDV300/3TC150"
          }, {
            "concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
            "label": "TDF300mg/3TC300mg/EFV600mg"
          }, {
            "concept": "a89cc876-1350-11df-a1f1-0026b9348838",
            "label": "3TC300mg/TDF300mg"
          }, {
            "concept": "3d587177-984e-4eeb-93f2-3223b6c1dd7c",
            "label": "3TC150mg/D4T30mg"
          }, {
            "concept": "a896758e-1350-11df-a1f1-0026b9348838",
            "label": "3TC150mg/ZDV300mg"
          }, {
            "concept": "a897e608-1350-11df-a1f1-0026b9348838",
            "label": "NVP200/D4T30/3TC150"
          }, {
            "concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
            "label": "Emtri200mg/TDF300(Truvada)"
          }, {
            "concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
            "label": "Aluvia(Kaletra)200mg/LPV50mg"
          }, {
            "concept": "a8afc066-1350-11df-a1f1-0026b9348838",
            "label": "Atazanavir300/Ritonavir100"
          }, {
            "concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
            "label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
          }, {
            "concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
            "label": "Abacavir300mg"
          }, {
            "concept": "a89677e6-1350-11df-a1f1-0026b9348838",
            "label": "Efavirenz600mg"
          }, {
            "concept": "a89673f4-1350-11df-a1f1-0026b9348838",
            "label": "Lamivudine150mg"
          }, {
            "concept": "a8967656-1350-11df-a1f1-0026b9348838",
            "label": "Nevirapine200mg"
          }, {
            "concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
            "label": "Raltegravir 400mg"
          }, {
            "concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
            "label": "Zidovudine300mg"
          }, {
            "concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
            "label": "Darunavir 600mg"
          }, {
            "concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
            "label": " Ritonavir 100mg"
          }, {
            "concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
            "label": " Ritonavir 80mg"
          }, {
            "concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
            "label": "Etravirine 100mg"
          }, {
            "concept": "98b0baf6-0b73-4429-9264-6233684b0969",
            "label": "Dolutegravir 50mg"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a8a87a86-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838'",
          "message": "Patient marked as on ART. Please provide the Regimen."
        }],
        "hide": {
          "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "type": "obsGroup",
        "label": "ART adherence",
        "questionOptions": {
          "concept": "bc3834dd-ef07-4027-be30-729baa069291",
          "rendering": "group"
        },
        "questions": [{
          "label": "Adherence on ART:",
          "id": "artAdherence",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('2c363a0e-7cf9-42cd-9778-1301b09c4484')) ? undefined : HD.getObject('prevEnc').getValue('2c363a0e-7cf9-42cd-9778-1301b09c4484')",
          "questionOptions": {
            "concept": "2c363a0e-7cf9-42cd-9778-1301b09c4484",
            "answers": [{
              "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
              "label": "Good"
            }, {
              "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
              "label": "Fair"
            }, {
              "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
              "label": "Poor"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
            "message": "Patient on ARVs. Please provide adherence history."
          }],
          "hide": {
            "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "Adherence (ART) Reason for poor/fair:",
          "id": "artReasonPoorFair",
          "questionOptions": {
            "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
              "label": "Alcohol"
            }, {
              "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
              "label": "Depression"
            }, {
              "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
              "label": "Felt well"
            }, {
              "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
              "label": "Forgot"
            }, {
              "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
              "label": "Gave away"
            }, {
              "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
              "label": "Lost/ran out of pills"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
              "label": "Side effects"
            }, {
              "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
              "label": "Stigma"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Stock out"
            }, {
              "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
              "label": "Too ill"
            }, {
              "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
              "label": "Travel problems"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "multiCheckbox"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], artAdherence) "
          }
        }, {
          "label": "Adherence (ART): Other (specify):",
          "type": "obs",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "validators": [],
          "hide": {
            "hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], artAdherence)"
          }
        }]
      }]
    }]
  }, {
    "label": "PCP & TB Prophylaxis History",
    "sections": [{
      "label": "PCP Prophylaxis Current",
      "isExpanded": "true",
      "questions": [{
        "label": "PCP prophylaxis:",
        "id": "pcpProphylaxisCurrent",
        "historicalExpression": "HD.getObject('prevEnc').getValue('a899e282-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a899e282-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a8989396-1350-11df-a1f1-0026b9348838",
            "label": "Septrin"
          }, {
            "concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
            "label": "Dapsone 100mg"
          }],
          "rendering": "select"
        },
        "required": "true",
        "type": "obs",
        "validators": []
      }, {
        "type": "obsGroup",
        "label": "PCP prophylaxis adherence:",
        "questionOptions": {
          "concept": "275eee16-c358-4f3a-ac16-e8f24659df87",
          "rendering": "group"
        },
        "questions": [{
          "label": "Patient's adherence on PCP prophylaxis:",
          "id": "pcpProphylaxisAdherence",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('115c744a-cf54-469f-bd5f-820352ffe9be')) ? undefined : HD.getObject('prevEnc').getValue('115c744a-cf54-469f-bd5f-820352ffe9be')",
          "questionOptions": {
            "concept": "115c744a-cf54-469f-bd5f-820352ffe9be",
            "answers": [{
              "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
              "label": "Good"
            }, {
              "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
              "label": "Fair"
            }, {
              "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
              "label": "Poor"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && arrayContains(['a8989396-1350-11df-a1f1-0026b9348838', 'a890c9e0-1350-11df-a1f1-0026b9348838'], pcpProphylaxisCurrent) && isEmpty(myValue)",
            "message": "Patient on PCP Prophylaxis. Please provide adherence history"
          }],
          "hide": {
            "hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "Adherence (PCP) reasons for poor/fair:",
          "id": "pcpAdherence",
          "questionOptions": {
            "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
              "label": "Alcohol"
            }, {
              "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
              "label": "Depression"
            }, {
              "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
              "label": "Felt well"
            }, {
              "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
              "label": "Forgot"
            }, {
              "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
              "label": "Gave away"
            }, {
              "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
              "label": "Lost/ran out of pills"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
              "label": "Side effects"
            }, {
              "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
              "label": "Stigma"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Stock out"
            }, {
              "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
              "label": "Too ill"
            }, {
              "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
              "label": "Travel problems"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "multiCheckbox"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], pcpProphylaxisAdherence)"
          }
        }, {
          "label": "Adherence (PCP): Other (specify):",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "id": "pcpOtherAdherence",
          "validators": [],
          "hide": {
            "hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], pcpProphylaxisAdherence)"
          }
        }]
      }]
    }, {
      "label": "TB Prophylaxis Current",
      "isExpanded": "true",
      "questions": [{
        "label": "Patient on TB prophylaxis",
        "type": "obs",
        "required": "true",
        "id": "onTbProphylaxis",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('163784d2-6c55-4ceb-abf0-df8cebb385f1')) ? undefined : HD.getObject('prevEnc').getValue('163784d2-6c55-4ceb-abf0-df8cebb385f1')",
        "questionOptions": {
          "concept": "163784d2-6c55-4ceb-abf0-df8cebb385f1",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "validators": []
      }, {
        "label": "If yes select drug",
        "type": "obs",
        "id": "onTbProphylaxisDrug",
        "historicalExpression": "HD.getObject('prevEnc').getValue('a899e35e-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a899e35e-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "162724df-5a66-4ae3-bbf6-5dc6dbba4ebb",
            "label": "Isoniazid 100mg"
          }, {
            "concept": "b150ccdc-e7ec-4f99-b592-6f3fa73b3aea",
            "label": "Isoniazid 300mg"
          }],
          "rendering": "select"
        },
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b35c-1350-11df-a1f1-0026b9348838'",
          "message": "Patient  marked as on TB Prophylaxis. Please provide the drug."
        }],
        "hide": {
          "hideWhenExpression": "onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Start date of TB prophylaxis treatment:",
        "id": "TbProphTreatment",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('67785e82-c2f7-4417-8ada-cc8e85abbfc1')) ? undefined : HD.getObject('prevEnc').getValue('67785e82-c2f7-4417-8ada-cc8e85abbfc1')",
        "questionOptions": {
          "concept": "67785e82-c2f7-4417-8ada-cc8e85abbfc1",
          "rendering": "date"
        },
        "type": "obs",
        "validators": [{
          "type": "date"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(onTbProphylaxis) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbProphylaxis) && isEmpty(myValue)",
          "message": "You indicated patient on tb prophylaxis treatment, indicate start date."
        }],
        "hide": {
          "hideWhenExpression": "onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "TB prophylaxis adherence",
        "type": "obsGroup",
        "questionOptions": {
          "concept": "3a69cfcf-f129-4702-a8dd-d061d2a16b9d",
          "rendering": "group"
        },
        "questions": [{
          "label": "Patient's adherence on TB prophylaxis:",
          "id": "adherenceOnTbProphy",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3a69cfcf-f129-4702-a8dd-d061d2a16b9d','ebfdb93a-9292-4245-9a27-0faf49545720')) ? undefined : HD.getObject('prevEnc').getValue('3a69cfcf-f129-4702-a8dd-d061d2a16b9d','ebfdb93a-9292-4245-9a27-0faf49545720')",
          "questionOptions": {
            "concept": "ebfdb93a-9292-4245-9a27-0faf49545720",
            "answers": [{
              "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
              "label": "Good"
            }, {
              "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
              "label": "Fair"
            }, {
              "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
              "label": "Poor"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(onTbProphylaxis) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbProphylaxis) && isEmpty(myValue)",
            "message": "Patient on TB Prophylaxis. Please provide adherence history."
          }],
          "hide": {
            "hideWhenExpression": "isEmpty(onTbProphylaxis)|| onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "Adherence (TB Prophylaxis) reasons for poor/fair:",
          "id": "tbProphylaxisAdherence",
          "questionOptions": {
            "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
              "label": "Alcohol"
            }, {
              "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
              "label": "Depression"
            }, {
              "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
              "label": "Felt well"
            }, {
              "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
              "label": "Forgot"
            }, {
              "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
              "label": "Gave away"
            }, {
              "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
              "label": "Lost/Ran out of pills"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
              "label": "Side effects"
            }, {
              "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
              "label": "Stigma"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Stock out"
            }, {
              "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
              "label": "Too ill"
            }, {
              "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
              "label": "Travel problems"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "multiCheckbox"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "isEmpty(onTbProphylaxis) || onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], adherenceOnTbProphy)"
          }
        }, {
          "label": "Adherence (TB Prophylaxis): Other (specify):",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "id": "tbProphylaxisOtherAdherence",
          "validators": [],
          "hide": {
            "hideWhenExpression": "isEmpty(onTbProphylaxis) || onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], adherenceOnTbProphy)"
          }
        }]
      }]
    }]
  }, {
    "label": "TB History",
    "sections": [{
      "label": "Tuberculosis History",
      "isExpanded": "true",
      "questions": [{
        "id": "onTbTreatment",
        "required": "true",
        "label": "Is patient on TB treatment?",
        "historicalExpression": "HD.getObject('prevEnc').getValue('a8afcc82-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a8afcc82-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs"
      }, {
        "label": "Start date of TB treatment:",
        "id": "startDateOfTbTreatment",
        "historicalExpression": "HD.getObject('prevEnc').getValue('a8afdb8c-1350-11df-a1f1-0026b9348838.a899e5f2-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a899e5f2-1350-11df-a1f1-0026b9348838",
          "rendering": "date"
        },
        "type": "obs",
        "validators": [{
          "type": "date"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(onTbTreatment) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbTreatment) && isEmpty(myValue)",
          "message": "You indicated patient on tb treatment, indicate start date."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "(isEmpty(onTbTreatment) || !arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbTreatment)) && !isEmpty(myValue)",
          "message": "You indicated patient is not on tb treatment, therefore start date should not be indicated."
        }],
        "hide": {
          "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Tuberculosis treatment phase",
        "type": "obs",
        "id": "tbPhase",
        "questionOptions": {
          "concept": "a8afdf4c-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a8afdd08-1350-11df-a1f1-0026b9348838",
            "label": "Continuation phase"
          }, {
            "concept": "a8afddc6-1350-11df-a1f1-0026b9348838",
            "label": "Retreatment phase"
          }, {
            "concept": "a8afdc4a-1350-11df-a1f1-0026b9348838",
            "label": "Induction phase"
          }, {
            "concept": "a8afde8e-1350-11df-a1f1-0026b9348838",
            "label": "Retreated phase"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "select"
        },
        "hide": {
          "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "type": "obsGroup",
        "label": "Current TB regimen",
        "questionOptions": {
          "concept": "a8afdb8c-1350-11df-a1f1-0026b9348838",
          "rendering": "repeating"
        },
        "questions": [{
          "label": "Current TB regimen",
          "type": "obs",
          "id": "tb_current",
          "questionOptions": {
            "concept": "a899e444-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a899f51a-1350-11df-a1f1-0026b9348838",
              "label": "RHZE"
            }, {
              "concept": "a897d1a4-1350-11df-a1f1-0026b9348838",
              "label": "RHZ"
            }, {
              "concept": "a8a382ba-1350-11df-a1f1-0026b9348838",
              "label": "RHE"
            }, {
              "concept": "a89b1ca6-1350-11df-a1f1-0026b9348838",
              "label": "RH"
            }, {
              "concept": "a899e19c-1350-11df-a1f1-0026b9348838",
              "label": "EH"
            }, {
              "concept": "a8971c64-1350-11df-a1f1-0026b9348838",
              "label": "Ethambutol"
            }, {
              "concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
              "label": "MDR drugs"
            }, {
              "concept": "a896cc00-1350-11df-a1f1-0026b9348838",
              "label": "INH"
            }, {
              "concept": "a8ac5f2a-1350-11df-a1f1-0026b9348838",
              "label": "Pyrazinamide"
            }, {
              "concept": "a8952e4a-1350-11df-a1f1-0026b9348838",
              "label": "Streptomycin"
            }, {
              "concept": "b8aa06ca-93c6-40ea-b144-c74f841926f4",
              "label": "Rifabutin"
            }, {
              "concept": "a897d0be-1350-11df-a1f1-0026b9348838",
              "label": "Rifampicin"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "validators": [],
          "hide": {
            "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "tabs/day",
          "questionOptions": {
            "concept": "a8a07386-1350-11df-a1f1-0026b9348838",
            "max": "30",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "tb_current",
            "value": ["a899f51a-1350-11df-a1f1-0026b9348838", "a897d1a4-1350-11df-a1f1-0026b9348838", "a8a382ba-1350-11df-a1f1-0026b9348838"]
          }
        }, {
          "label": "mg",
          "questionOptions": {
            "concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
            "max": "2000",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "tb_current",
            "value": ["a899e19c-1350-11df-a1f1-0026b9348838", "a8ac5f2a-1350-11df-a1f1-0026b9348838", "a8952e4a-1350-11df-a1f1-0026b9348838"]
          }
        }, {
          "label": "mg/day",
          "questionOptions": {
            "concept": "a8a0744e-1350-11df-a1f1-0026b9348838",
            "max": "2000",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "tb_current",
            "value": ["a896cc00-1350-11df-a1f1-0026b9348838", "a8971c64-1350-11df-a1f1-0026b9348838"]
          }
        }, {
          "label": "tabs",
          "questionOptions": {
            "concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
            "max": "180",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "tb_current",
            "value": ["b8aa06ca-93c6-40ea-b144-c74f841926f4"]
          }
        }]
      }, {
        "label": "TB treatment completion date",
        "type": "obs",
        "id": "tbComplDate",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a176b4-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a176b4-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a8a176b4-1350-11df-a1f1-0026b9348838",
          "rendering": "date"
        },
        "hide": {
          "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "TB treatment defaulted year",
        "type": "obs",
        "id": "tbDefaultDate",
        "questionOptions": {
          "concept": "a8a18758-1350-11df-a1f1-0026b9348838",
          "rendering": "number"
        },
        "hide": {
          "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "type": "obsGroup",
        "id": "tbadhere",
        "label": "Patient adherence to TB medications",
        "questionOptions": {
          "concept": "2a4b87dd-977d-4ce8-a321-1f13df4a31b2",
          "rendering": "group"
        },
        "questions": [{
          "label": "Patient adherence to TB medications:",
          "id": "tb_adherence",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('479decbd-e964-41c3-9576-98b39089ebd3')) ? undefined : HD.getObject('prevEnc').getValue('479decbd-e964-41c3-9576-98b39089ebd3')",
          "questionOptions": {
            "concept": "479decbd-e964-41c3-9576-98b39089ebd3",
            "answers": [{
              "concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
              "label": "Good"
            }, {
              "concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
              "label": "Fair"
            }, {
              "concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
              "label": "Poor"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
            "message": "Patient on TB Treament. Please provide adherence history."
          }],
          "hide": {
            "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "Adherence (TB Treatment) reasons for poor/fair:",
          "id": "adherenceTbTreatment",
          "questionOptions": {
            "concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89ced88-1350-11df-a1f1-0026b9348838",
              "label": "Alcohol"
            }, {
              "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
              "label": "Depression"
            }, {
              "concept": "a89eac04-1350-11df-a1f1-0026b9348838",
              "label": "Felt well"
            }, {
              "concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
              "label": "Forgot"
            }, {
              "concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
              "label": "Gave away"
            }, {
              "concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
              "label": "Lost/Ran out of pills"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
              "label": "Side effects"
            }, {
              "concept": "a89eba46-1350-11df-a1f1-0026b9348838",
              "label": "Stigma"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Stock out"
            }, {
              "concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
              "label": "Too ill"
            }, {
              "concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
              "label": "Travel problems"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "multiCheckbox"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], tb_adherence)"
          }
        }, {
          "label": "Adherence (TB Treatment): Other (specify):",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "id": "adherenceTbOther",
          "validators": [],
          "hide": {
            "hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], tb_adherence)"
          }
        }]
      }]
    }]
  }, {
    "label": "Other Medications History",
    "sections": [{
      "label": "Cryptococcal Secondary Prevention",
      "questions": [{
        "label": "Cryptococcus Tx:",
        "id": "cryptCurrent",
        "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a899e516-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a899e516-1350-11df-a1f1-0026b9348838')",
        "questionOptions": {
          "concept": "a899e516-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a8971e12-1350-11df-a1f1-0026b9348838",
            "label": "Fluconazole 400mg"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Other Medications",
      "questions": [{
        "label": "Please add any other medications the patient is taking",
        "type": "obsGroup",
        "questionOptions": {
          "concept": "a8a072c8-1350-11df-a1f1-0026b9348838",
          "rendering": "repeating"
        },
        "questions": [{
          "label": "Other drugs:",
          "questionOptions": {
            "concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
            "rendering": "drug"
          },
          "type": "obs",
          "validators": []
        }]
      }]
    }]
  }, {
    "label": "Med Side Effects",
    "sections": [{
      "label": "Side Effects/Toxicity",
      "questions": [{
        "type": "obsGroup",
        "label": "Side effects",
        "id": "sideEff",
        "questionOptions": {
          "concept": "a8a072c8-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "Any side effects attributable to any drug that the patient is currently taking:",
          "id": "currSideEffect",
          "historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('30fc0cea-b6c7-48cc-bbfb-4eb53170ce41')) ? undefined : HD.getObject('prevEnc').getValue('30fc0cea-b6c7-48cc-bbfb-4eb53170ce41')",
          "questionOptions": {
            "concept": "30fc0cea-b6c7-48cc-bbfb-4eb53170ce41",
            "answers": [{
              "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
              "label": "Yes"
            }, {
              "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
              "label": "No"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": []
        }]
      }, {
        "type": "obsGroup",
        "questionOptions": {
          "rendering": "repeating",
          "concept": "a8a072c8-1350-11df-a1f1-0026b9348838"
        },
        "label": "If yes drugs suspected to be causing side effects",
        "questions": [{
          "label": "Drug:",
          "id": "sideEffectDrug",
          "questionOptions": {
            "concept": "1682a920-c93d-4aad-b9cb-4a2b2c41ff1a",
            "rendering": "drug"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "label": "If yes, tick all that apply:",
        "id": "sideEffectype",
        "questionOptions": {
          "concept": "c2ecd5f7-4b47-47ae-b706-3dc5ed98b4db",
          "answers": [{
            "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
            "label": "Anaemia"
          }, {
            "concept": "a8909060-1350-11df-a1f1-0026b9348838",
            "label": "Hepatitis"
          }, {
            "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
            "label": "IRIS"
          }, {
            "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
            "label": "Lactic acidosis"
          }, {
            "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
            "label": "Lipo-dystrophy"
          }, {
            "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
            "label": "Neuropathy"
          }, {
            "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
            "label": "Persistent vomiting"
          }, {
            "concept": "a895776a-1350-11df-a1f1-0026b9348838",
            "label": "Rash"
          }, {
            "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
            "label": "Steven-Johnson syndrome"
          }, {
            "concept": "a8ad21e4-1350-11df-a1f1-0026b9348838",
            "label": "Nausea"
          }, {
            "concept": "a894b604-1350-11df-a1f1-0026b9348838",
            "label": "Burning sensation"
          }, {
            "concept": "a890861a-1350-11df-a1f1-0026b9348838",
            "label": "Diarrhea"
          }, {
            "concept": "a8966d1e-1350-11df-a1f1-0026b9348838",
            "label": "Headache"
          }, {
            "concept": "a8ad042a-1350-11df-a1f1-0026b9348838",
            "label": "Fatigue"
          }, {
            "concept": "a89366a0-1350-11df-a1f1-0026b9348838",
            "label": "Jaundice"
          }, {
            "concept": "a89836ee-1350-11df-a1f1-0026b9348838",
            "label": "Dizzy"
          }, {
            "concept": "a8932f00-1350-11df-a1f1-0026b9348838",
            "label": "Abdominal pain"
          }, {
            "concept": "a89cec02-1350-11df-a1f1-0026b9348838",
            "label": "Anxiety"
          }, {
            "concept": "c80dcaad-ea61-4b88-b1f7-c091d706c7de",
            "label": "Nightmare"
          }, {
            "concept": "a8935fde-1350-11df-a1f1-0026b9348838",
            "label": "Depression"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "id": "reaction",
        "label": "Severity of the reaction:",
        "questionOptions": {
          "concept": "6c1b293c-4d8c-470f-9991-93cdde1274ff",
          "answers": [{
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a89efccc-1350-11df-a1f1-0026b9348838",
            "label": "Mild"
          }, {
            "concept": "a89efdee-1350-11df-a1f1-0026b9348838",
            "label": "Moderate"
          }, {
            "concept": "a89eff1a-1350-11df-a1f1-0026b9348838",
            "label": "Severe"
          }, {
            "concept": "a899b50a-1350-11df-a1f1-0026b9348838",
            "label": "Unknown"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "id": "action",
        "label": "Action plan:",
        "questionOptions": {
          "concept": "01fb96f5-8dc5-4481-8a11-240994b3b795",
          "answers": [{
            "concept": "b5b9663c-9568-4f48-b70f-34c63b21bce4",
            "label": "Stopped drugs"
          }, {
            "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
            "label": "Substitute drugs"
          }, {
            "concept": "a8a07bce-1350-11df-a1f1-0026b9348838",
            "label": "Change drugs"
          }, {
            "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
            "label": "Switched drugs"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "How certain are you the drug(s) is/are the case of the reaction?",
        "id": "certainityOfReaction",
        "questionOptions": {
          "concept": "d0efbf5b-cbfc-48fc-a857-c0ca4d70f077",
          "answers": [{
            "concept": "45eb8953-dc14-4c2e-8ce6-12cdf7da280a",
            "label": "Certain"
          }, {
            "concept": "07e9e14e-a718-4a9e-9479-1de79e1f614a",
            "label": "Probable/likely"
          }, {
            "concept": "260e6d24-1634-4467-a070-e8359f6827f7",
            "label": "Possible"
          }, {
            "concept": "66b46c63-7e75-4b1d-918a-1e17348c62f7",
            "label": "Unlikely"
          }, {
            "concept": "b1055e84-0e97-483a-ae8a-3f2dee84a623",
            "label": "Conditional/unclassified"
          }, {
            "concept": "80d03d9f-2510-4a95-b9d6-2613aaeebd21",
            "label": "Unassessable/unclassified"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }]
    }]
  }, {
    "label": "Nutrition",
    "sections": [{
      "label": "Nutrition Assessment and Diagnosis",
      "questions": [{
        "label": "Nutrition status:",
        "id": "nutritionStatus",
        "questionOptions": {
          "rendering": "select",
          "concept": "ac5f7974-3a71-4867-af59-0c30d68ce9d8",
          "answers": [{
            "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
            "label": "Normal"
          }, {
            "concept": "1505faef-c8aa-422c-b356-da065b88ec9c",
            "label": "Overweight"
          }, {
            "concept": "2a60e784-1314-4454-91ba-7ea4cc2c3b15",
            "label": "Obese"
          }, {
            "concept": "0306539c-f24f-49f5-b059-b646adbec47c",
            "label": "Severe acute malnutrition"
          }, {
            "concept": "f0dd06d5-6174-447f-9a9c-f8635b4a6a6d",
            "label": "Moderate  acute malnutrition"
          }]
        },
        "type": "obs",
        "validators": []
      }]
    }]
  }, {
    "label": "Vitals",
    "sections": [{
      "label": "Vital Signs",
      "isExpanded": "true",
      "questions": [{
        "label": "BP systolic:",
        "id": "syst",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a65d5a-1350-11df-a1f1-0026b9348838",
          "max": "250",
          "min": "0"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "BP diastolic:",
        "id": "dias",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a65e36-1350-11df-a1f1-0026b9348838",
          "max": "200",
          "min": "0"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Pulse (Rate/min):",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a65f12-1350-11df-a1f1-0026b9348838",
          "max": "230",
          "min": "0"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Temp (C):",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a65fee-1350-11df-a1f1-0026b9348838",
          "max": "43",
          "min": "25"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Weight (Kg):",
        "id": "weight",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a660ca-1350-11df-a1f1-0026b9348838",
          "max": "150",
          "min": "0"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Height (Cm):",
        "id": "height",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a6619c-1350-11df-a1f1-0026b9348838",
          "max": "350",
          "min": "0"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Sp02:",
        "questionOptions": {
          "rendering": "number",
          "concept": "a8a66354-1350-11df-a1f1-0026b9348838",
          "max": "100",
          "min": "0"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "BMI (Kg/m2):",
        "id": "bmi",
        "questionOptions": {
          "rendering": "number",
          "concept": "a89c60c0-1350-11df-a1f1-0026b9348838",
          "max": "100",
          "min": "0",
          "calculate": {
            "calculateExpression": "calcBMI(height,weight)"
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "MUAC:",
        "id": "muac",
        "questionOptions": {
          "rendering": "number",
          "concept": "a89c6188-1350-11df-a1f1-0026b9348838",
          "max": "300",
          "min": "60"
        },
        "type": "obs",
        "validators": []
      }]
    }]
  }, {
    "label": "CC/HPI",
    "sections": [{
      "label": "History Presenting Illness, Notes",
      "isExpanded": "true",
      "questions": [{
        "label": "History of presenting illness:",
        "type": "obs",
        "id": "hpiText",
        "questionOptions": {
          "concept": "a89ffbf4-1350-11df-a1f1-0026b9348838",
          "rendering": "textarea",
          "rows": 15
        }
      }]
    }]
  }, {
    "label": "Current Symptoms",
    "sections": [{
      "label": "Problem List",
      "questions": [{
        "type": "obsGroup",
        "questionOptions": {
          "concept": "a89c2d8a-1350-11df-a1f1-0026b9348838",
          "rendering": "repeating"
        },
        "label": "Problem Added",
        "questions": [{
          "label": "Problem added",
          "id": "probAdded",
          "questionOptions": {
            "concept": "a8ae835e-1350-11df-a1f1-0026b9348838",
            "rendering": "problem"
          },
          "type": "obs",
          "validators": []
        }]
      }]
    }, {
      "label": "TB Screening Questions",
      "isExpanded": "true",
      "questions": [{
        "label": "TB symptoms:",
        "required": "true",
        "questionOptions": {
          "concept": "a8afcafc-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a8ad1276-1350-11df-a1f1-0026b9348838",
            "label": "Breathlessness"
          }, {
            "concept": "a892e4b4-1350-11df-a1f1-0026b9348838",
            "label": "Chest pain"
          }, {
            "concept": "a8afc8b8-1350-11df-a1f1-0026b9348838",
            "label": "Cough = 2 weeks"
          }, {
            "concept": "d7adae14-c386-49cc-8f7c-765d8ceec566",
            "label": "Fever for = 2 weeks"
          }, {
            "concept": "3f57aafc-7162-41da-a51b-6a804cb6f5e8",
            "label": "New exposure to household contact with TB"
          }, {
            "concept": "a89807f0-1350-11df-a1f1-0026b9348838",
            "label": "Noticeable weight loss"
          }, {
            "concept": "e1862fef-68ed-4df4-90dd-a00152f719aa",
            "label": "Night sweats = 2 weeks"
          }, {
            "concept": "a8ad462e-1350-11df-a1f1-0026b9348838",
            "label": "Abdomen"
          }, {
            "concept": "f218c60e-4b54-475a-a4fa-facab9216da8",
            "label": "Groin"
          }, {
            "concept": "a8a774b0-1350-11df-a1f1-0026b9348838",
            "label": "Joints"
          }, {
            "concept": "4639388c-ee31-4dcf-abb4-ad71253493bb",
            "label": "Neck"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "TB status:",
        "id": "tbstatus",
        "required": "true",
        "questionOptions": {
          "concept": "02ad9357-b996-4530-b1a4-aff91a105383",
          "answers": [{
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "No signs"
          }, {
            "concept": "a8afcc82-1350-11df-a1f1-0026b9348838",
            "label": "On TB treatment"
          }, {
            "concept": "260e6d24-1634-4467-a070-e8359f6827f7",
            "label": "Suspect"
          }, {
            "concept": "a899ea48-1350-11df-a1f1-0026b9348838",
            "label": "Not assessed"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "STI",
      "isExpanded": "true",
      "questions": [{
        "label": "Do you have any of the following:",
        "required": "true",
        "questionOptions": {
          "concept": "a8b00562-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a8982b54-1350-11df-a1f1-0026b9348838",
            "label": "Genital ulcers"
          }, {
            "concept": "a8ad3062-1350-11df-a1f1-0026b9348838",
            "label": "Urethral discharge"
          }, {
            "concept": "a8ad2eb4-1350-11df-a1f1-0026b9348838",
            "label": "Vaginal discharge"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "STI partner notification:",
        "questionOptions": {
          "concept": "7d7e1c44-a0d5-44ca-8481-8569b38c7e9b",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Adult WHO Staging",
      "isExpanded": "true",
      "questions": [{
        "label": "If you are assigning a new WHO stage to patient today, select new WHO stage:",
        "type": "obs",
        "id": "adultWhoStage",
        "questionOptions": {
          "concept": "a8a8331e-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a89b2606-1350-11df-a1f1-0026b9348838",
            "label": "1"
          }, {
            "concept": "a89b26d8-1350-11df-a1f1-0026b9348838",
            "label": "2"
          }, {
            "concept": "a89b27be-1350-11df-a1f1-0026b9348838",
            "label": "3"
          }, {
            "concept": "a89b289a-1350-11df-a1f1-0026b9348838",
            "label": "4"
          }],
          "rendering": "select"
        },
        "validators": []
      }, {
        "label": "Select criteria for new WHO stage:",
        "type": "obs",
        "questionOptions": {
          "concept": "a8ae88a4-1350-11df-a1f1-0026b9348838",
          "rendering": "select-concept-answers"
        },
        "required": {
          "type": "conditionalRequired",
          "message": "Patient marked as receiving new WHO stage. Please select stage.",
          "referenceQuestionId": "adultWhoStage",
          "referenceQuestionAnswers": ["a89b2606-1350-11df-a1f1-0026b9348838"]
        },
        "validators": []
      }]
    }]
  }, {
    "label": "Test Results",
    "sections": [{
      "label": "Chemistry Lab Tests",
      "questions": [{
        "type": "obs",
        "label": "Creatinine mmol/L:",
        "id": "creatinine_test",
        "questionOptions": {
          "concept": "a897e450-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "showDate": "true",
          "max": "11050",
          "min": "0",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(creatinine_test) && isEmpty(myValue)",
              "message": "Date result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(creatinine_test)"
            }
          }
        },
        "validators": []
      }, {
        "type": "obs",
        "label": "SGPT(ALT):",
        "id": "sgptalt_test",
        "questionOptions": {
          "concept": "a896ca48-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "max": "3500",
          "min": "0",
          "showDate": "true",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(sgptalt_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(sgptalt_test)"
            }
          }
        },
        "validators": []
      }, {
        "type": "obs",
        "label": "AST:",
        "id": "ast_test",
        "questionOptions": {
          "concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "max": "3500",
          "min": "0",
          "showDate": "true",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(ast_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(ast_test)"
            }
          }
        },
        "validators": []
      }]
    }, {
      "label": "CBC",
      "questions": [{
        "label": "Hgb g/dL:",
        "id": "hgbgdl_test",
        "questionOptions": {
          "concept": "a8908a16-1350-11df-a1f1-0026b9348838",
          "max": "50",
          "min": "0",
          "showDate": "true",
          "rendering": "number",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(hgbgdl_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(hgbgdl_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "WBC/mm3:",
        "id": "testWBCmm",
        "questionOptions": {
          "concept": "a896dea2-1350-11df-a1f1-0026b9348838",
          "max": "500",
          "min": "0",
          "showDate": "true",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(testWBCmm) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(testWBCmm)"
            }
          },
          "rendering": "number"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Platelets:",
        "id": "platelets_test",
        "questionOptions": {
          "concept": "a8970954-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "max": "450000",
          "min": "0",
          "showDate": "true",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(platelets_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(platelets_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "ALC/ mm3:",
        "id": "alcmm_test",
        "questionOptions": {
          "concept": "a898b20e-1350-11df-a1f1-0026b9348838",
          "max": "500",
          "min": "0",
          "showDate": "true",
          "rendering": "number",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(alcmm_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(alcmm_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "MCV:",
        "id": "mcv_test",
        "questionOptions": {
          "concept": "a898201e-1350-11df-a1f1-0026b9348838",
          "max": "500",
          "min": "0",
          "showDate": "true",
          "rendering": "number",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(mcv_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(mcv_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "CD4",
      "questions": [{
        "type": "obs",
        "id": "cd4_test",
        "questionOptions": {
          "concept": "a8a8bb18-1350-11df-a1f1-0026b9348838",
          "showDate": "true",
          "rendering": "number",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(cd4_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(cd4_test)"
            }
          }
        },
        "label": "CD4 count:",
        "validators": []
      }, {
        "type": "obs",
        "label": "CD4 %:",
        "id": "cd4percent_test",
        "questionOptions": {
          "rendering": "number",
          "max": "100",
          "min": "0",
          "showDate": "true",
          "concept": "a8970a26-1350-11df-a1f1-0026b9348838",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(cd4percent_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(cd4percent_test)"
            }
          }
        },
        "validators": []
      }]
    }, {
      "label": "Viral Load",
      "questions": [{
        "type": "obs",
        "label": "Viral load:",
        "id": "viralLoad_test",
        "questionOptions": {
          "concept": "a8982474-1350-11df-a1f1-0026b9348838",
          "rendering": "number",
          "max": "10000000",
          "min": "0",
          "showDate": "true",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(viralLoad_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(viralLoad_test)"
            }
          }
        },
        "validators": []
      }]
    }, {
      "label": "TB Test",
      "questions": [{
        "label": "Sputum gene xpert MTB:",
        "id": "sputumgene_test",
        "questionOptions": {
          "concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
          "answers": [{
            "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
            "label": "Positive"
          }, {
            "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
            "label": "Negative"
          }, {
            "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
            "label": "Indeterminate"
          }, {
            "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
            "label": "Poor sample quality"
          }],
          "showDate": "true",
          "rendering": "select",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(sputumgene_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(sputumgene_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Sputum AFB smear:",
        "id": "sputumafp_test",
        "questionOptions": {
          "concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
            "label": "1+"
          }, {
            "concept": "a8a45bd6-1350-11df-a1f1-0026b9348838",
            "label": "2+"
          }, {
            "concept": "a8a45ca8-1350-11df-a1f1-0026b9348838",
            "label": "3+"
          }, {
            "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
            "label": "Positive"
          }, {
            "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
            "label": "Negative"
          }, {
            "concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
            "label": "Indeterminate"
          }, {
            "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
            "label": "Poor sample quality"
          }],
          "showDate": "true",
          "rendering": "select",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(sputumafp_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(sputumafp_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Sputum culture:",
        "id": "sputumculture_test",
        "questionOptions": {
          "concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
            "label": "Positive"
          }, {
            "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
            "label": "Negative"
          }, {
            "concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
            "label": "Poor sample quality"
          }, {
            "concept": "0b4e9aa1-e470-46d1-9d2d-0d8a475561b9",
            "label": "Mycobacterium tuberculosis"
          }, {
            "concept": "a01149c4-7f0e-4d27-8f42-dc019e3330ec",
            "label": "NonTuberculosis mycobacteria"
          }],
          "showDate": "true",
          "rendering": "select",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(sputumculture_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(sputumculture_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "TST (Mantoux test):",
        "id": "tst_test",
        "questionOptions": {
          "concept": "a89d278a-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
            "label": "Positive"
          }, {
            "concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
            "label": "Negative"
          }, {
            "concept": "a89d2852-1350-11df-a1f1-0026b9348838",
            "label": "Strongly positive"
          }],
          "showDate": "true",
          "rendering": "select",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(tst_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(tst_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Chest Xray",
      "questions": [{
        "label": "CXR code:",
        "id": "cxrcode_test",
        "questionOptions": {
          "concept": "a8908192-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
            "label": "Normal"
          }, {
            "concept": "a8a6aa3a-1350-11df-a1f1-0026b9348838",
            "label": "Cardiomegaly"
          }, {
            "concept": "a8ae8c1e-1350-11df-a1f1-0026b9348838",
            "label": "Cavitary"
          }, {
            "concept": "a8ae8a66-1350-11df-a1f1-0026b9348838",
            "label": "Diffuse abn/non-miliary"
          }, {
            "concept": "a8ae8980-1350-11df-a1f1-0026b9348838",
            "label": "Infiltrate"
          }, {
            "concept": "a89a77ce-1350-11df-a1f1-0026b9348838",
            "label": "Miliary"
          }, {
            "concept": "a89a76fc-1350-11df-a1f1-0026b9348838",
            "label": "PI effusion"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "showDate": "true",
          "rendering": "select",
          "shownDateOptions": {
            "validators": [{
              "type": "date"
            }, {
              "type": "js_expression",
              "failsWhenExpression": "!isEmpty(cxrcode_test) && isEmpty(myValue)",
              "message": "Date is result is required."
            }],
            "hide": {
              "hideWhenExpression": "isEmpty(cxrcode_test)"
            }
          }
        },
        "type": "obs",
        "validators": []
      }]
    }]
  }, {
    "label": "Assessment",
    "sections": [{
      "label": "Assessment Notes",
      "isExpanded": "true",
      "questions": [{
        "label": "Please enter the assessment below:",
        "type": "obs",
        "id": "assNote",
        "default": "",
        "questionOptions": {
          "concept": "23f710cc-7f9c-4255-9b6b-c3e240215dba",
          "rendering": "textarea",
          "rows": 18
        }
      }]
    }]
  }, {
    "label": "Medication Plan",
    "sections": [{
      "label": "ART Plan",
      "isExpanded": "true",
      "questions": [{
        "required": "true",
        "id": "arvPlan",
        "label": "ART plan:",
        "questionOptions": {
          "concept": "a89b75d4-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
            "label": "Continue regimen"
          }, {
            "concept": "a898c938-1350-11df-a1f1-0026b9348838",
            "label": "Change dose"
          }, {
            "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
            "label": "Change regimen"
          }, {
            "concept": "a89b7ae8-1350-11df-a1f1-0026b9348838",
            "label": "Change formulation"
          }, {
            "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
            "label": "Drug substitution"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "Not on ARVS"
          }, {
            "concept": "a8a00220-1350-11df-a1f1-0026b9348838",
            "label": "Restart"
          }, {
            "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
            "label": "Start ARVs"
          }, {
            "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
            "label": "Stop all"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
          "message": "Patient marked as on ART in ART History section. Therefore plan can only be drug substitution, continue regimen, change dose, chage regimen, change"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
          "message": "Patient marked as not on ART in ART History section. Therefore plan can only be None,Start"
        }]
      }, {
        "label": "Reason to start ART:",
        "id": "arvStartReason",
        "questionOptions": {
          "concept": "a89b6ce2-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "c9778159-958b-4f59-9053-a6171074726f",
            "label": "CD4 less than 500"
          }, {
            "concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
            "label": "Discordant couple"
          }, {
            "concept": "a89b27be-1350-11df-a1f1-0026b9348838",
            "label": "WHO stage 3"
          }, {
            "concept": "a89b289a-1350-11df-a1f1-0026b9348838",
            "label": "WHO stage 4"
          }, {
            "concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
            "label": "pMTCT"
          }, {
            "concept": "a8909060-1350-11df-a1f1-0026b9348838",
            "label": "Hepatitis"
          }, {
            "concept": "7fa72118-ef2a-4694-993a-014440024bbc",
            "label": "Test and treat"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
          "message": "You indicated patient is (re)starting ART. Please provide reason."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(arvPlan) && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
          "message": "You indicated patient is not (re)starting ART, therefore no reason for starting should be selected."
        }],
        "hide": {
          "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)"
        }
      }, {
        "type": "obsGroup",
        "label": "ART change reason",
        "questionOptions": {
          "concept": "a8a07688-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "id": "arvChangeReason",
          "label": "Reason for stopping/change/substitution/interruption:",
          "questionOptions": {
            "concept": "a89b7110-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
              "label": "Adherence concerns"
            }, {
              "concept": "a8981934-1350-11df-a1f1-0026b9348838",
              "label": "Clinical treatment failure"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Drug out of stock"
            }, {
              "concept": "a890a96a-1350-11df-a1f1-0026b9348838",
              "label": "Due to new TB"
            }, {
              "concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
              "label": "Illness/hospitalization"
            }, {
              "concept": "c6537e06-9fc2-47da-b679-e2a32824407f",
              "label": "Immunologic failure"
            }, {
              "concept": "a8a6f56c-1350-11df-a1f1-0026b9348838",
              "label": "Lost to follow-up"
            }, {
              "concept": "a8a07b10-1350-11df-a1f1-0026b9348838",
              "label": "New drug available"
            }, {
              "concept": "a8b03af0-1350-11df-a1f1-0026b9348838",
              "label": "Patient lacks finances"
            }, {
              "concept": "abe0cbb6-8d08-487a-b18e-7af873945fcc",
              "label": "Planned Rx interruption"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
              "label": "Changing to adult regimen"
            }, {
              "concept": "a8909e8e-1350-11df-a1f1-0026b9348838",
              "label": "Pregnancy"
            }, {
              "concept": "e38b3e51-8a27-4bf6-b0c8-e0b285e4bb2f",
              "label": "Risk of pregnancy"
            }, {
              "concept": "a89d25fa-1350-11df-a1f1-0026b9348838",
              "label": "Other patient decisions"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }, {
              "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
              "label": "Toxicity"
            }, {
              "concept": "93fe19e8-fec4-4e4b-85f1-239e1fabd761",
              "label": "Virologic failure"
            }],
            "rendering": "multiCheckbox"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], arvPlan)",
            "message": "You indicated patient is changing/changing dose/substituting/stopping arvs, reason for changing should be selected."
          }],
          "hide": {
            "hideWhenExpression": "!arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], arvPlan)"
          }
        }, {
          "id": "arvToxicityCause",
          "label": "If toxicity, please provide cause:",
          "questionOptions": {
            "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
              "label": "Anaemia"
            }, {
              "concept": "a8909060-1350-11df-a1f1-0026b9348838",
              "label": "Hepatitis"
            }, {
              "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
              "label": "IRIS"
            }, {
              "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
              "label": "Lactic acidosis"
            }, {
              "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
              "label": "Lipo-dystrophy"
            }, {
              "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
              "label": "Neuropathy"
            }, {
              "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
              "label": "Persistent vomiting"
            }, {
              "concept": "a895776a-1350-11df-a1f1-0026b9348838",
              "label": "Rash"
            }, {
              "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
              "label": "Steven-Johnson syndrome"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(arvChangeReason)&&isEmpty(myValue) && (arvChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
            "message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to toxicity, cause should be selected."
          }, {
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(arvChangeReason) && !isEmpty(myValue) && (arvChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
            "message": "You indicated patient is not changing/dose/substituting/stopping arvs due to toxicity, cause should be selected."
          }],
          "hide": {
            "hideWhenExpression": "arvChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "If toxicity: Other (specify):",
          "id": "arvToxOther",
          "type": "obs",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(arvToxicityCause) && isEmpty(myValue) && (arvToxicityCause==='a8aaf3e2-1350-11df-a1f1-0026b9348838')",
            "message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to other toxicity, indicate the other cause."
          }, {
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(arvToxicityCause) && !isEmpty(myValue) && (arvToxicityCause!=='a8aaf3e2-1350-11df-a1f1-0026b9348838')",
            "message": "You indicated patient is not changing /changing dose/substituting/stopping arvs due to other toxicity, other cause is not required."
          }],
          "hide": {
            "hideWhenExpression": "arvToxicityCause!=='a8aaf3e2-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "type": "obsGroup",
        "label": "Eligible for ART",
        "questionOptions": {
          "concept": "a8a17a7e-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "Eligible for ART but not started:",
          "id": "artEligibleNotStarted",
          "questionOptions": {
            "concept": "a89d26cc-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
              "label": "Adherence concerns"
            }, {
              "concept": "a8a8b26c-1350-11df-a1f1-0026b9348838",
              "label": "On TB treatment"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }, {
              "concept": "a89d25fa-1350-11df-a1f1-0026b9348838",
              "label": "Patient  refused"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "arvPlan !== 'a899e0ac-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "Eligible for ART but not started: Other (specify):",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "id": "eligibleOther",
          "validators": [],
          "hide": {
            "hideWhenExpression": "artEligibleNotStarted !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "label": "Plan treatment categories:",
        "type": "obs",
        "id": "planCate",
        "questionOptions": {
          "concept": "74e3b23f-b94f-49d9-a237-6baaee73f163",
          "answers": [{
            "concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
            "label": "First line regimen"
          }, {
            "concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
            "label": "Second line regimen"
          }, {
            "concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
            "label": "Third line regimen"
          }],
          "rendering": "select"
        },
        "hide": {
          "hideWhenExpression": "!arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'],arvPlan)"
        }
      }, {
        "label": "ART regimen started, adult:",
        "id": "artStartedAdult",
        "questionOptions": {
          "concept": "a89b6a62-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "6a73f32d-1870-4527-af6e-74443251ded2",
            "label": "NVP200/ZDV300/3TC150"
          }, {
            "concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
            "label": "TDF300mg/3TC300mg/EFV600mg"
          }, {
            "concept": "a89cc876-1350-11df-a1f1-0026b9348838",
            "label": "3TC300mg/TDF300mg"
          }, {
            "concept": "3d587177-984e-4eeb-93f2-3223b6c1dd7c",
            "label": "3TC150mg/D4T30mg"
          }, {
            "concept": "a896758e-1350-11df-a1f1-0026b9348838",
            "label": "3TC150mg/ZDV300mg"
          }, {
            "concept": "a897e608-1350-11df-a1f1-0026b9348838",
            "label": "NVP200/D4T30/3TC150"
          }, {
            "concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
            "label": "Emtri200mg/TDF300(Truvada)"
          }, {
            "concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
            "label": "Aluvia(Kaletra)200mg/LPV50mg"
          }, {
            "concept": "a8afc066-1350-11df-a1f1-0026b9348838",
            "label": "Atazanavir300/Ritonavir100"
          }, {
            "concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
            "label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
          }, {
            "concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
            "label": "Abacavir300mg"
          }, {
            "concept": "a89677e6-1350-11df-a1f1-0026b9348838",
            "label": "Efavirenz600mg"
          }, {
            "concept": "a89673f4-1350-11df-a1f1-0026b9348838",
            "label": "Lamivudine150mg"
          }, {
            "concept": "a8967656-1350-11df-a1f1-0026b9348838",
            "label": "Nevirapine200mg"
          }, {
            "concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
            "label": "Raltegravir 400mg"
          }, {
            "concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
            "label": "Zidovudine300mg"
          }, {
            "concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
            "label": "Darunavir 600mg"
          }, {
            "concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
            "label": " Ritonavir 100mg"
          }, {
            "concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
            "label": " Ritonavir 80mg"
          }, {
            "concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
            "label": "Etravirine 100mg"
          }, {
            "concept": "98b0baf6-0b73-4429-9264-6233684b0969",
            "label": "Dolutegravir 50mg"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a8a87a86-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
          "message": "Based on the plan selected, you must choose a regimen."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(myValue) && !arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
          "message": "Based on the plan selected, you may not choose a regimen."
        }],
        "hide": {
          "hideWhenExpression": "!arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'],arvPlan)"
        }
      }]
    }, {
      "label": "PCP Prophylaxis Plan",
      "isExpanded": "true",
      "questions": [{
        "required": "true",
        "id": "pcpProphylaxisPlan",
        "label": "PCP prophylaxis plan:",
        "questionOptions": {
          "concept": "a89b7e12-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
            "label": "Continue"
          }, {
            "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
            "label": "Change regimen"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
            "label": "Start"
          }, {
            "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
            "label": "Stop"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue)&&(pcpProphylaxisCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
          "message": "Patient marked as not on PCP prophylaxis. Therefore plan can only be none or start."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && !isEmpty(myValue) && arrayContains(['a8989396-1350-11df-a1f1-0026b9348838','a890c9e0-1350-11df-a1f1-0026b9348838'],pcpProphylaxisCurrent)&&!(arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838','a89b7908-1350-11df-a1f1-0026b9348838'], myValue))",
          "message": "Patient marked as on PCP Prophylaxis. Therefore plan can only be change regimen,continue or stop."
        }]
      }, {
        "type": "obsGroup",
        "label": "PCP prophylaxis change reason",
        "questionOptions": {
          "concept": "a8a07750-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "If change/stop, reason:",
          "id": "pcpProphylaxisChangeReason",
          "questionOptions": {
            "concept": "a89b7eee-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
              "label": "Toxicity"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Drug out of stock"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && isEmpty(myValue) && arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)",
            "message": "Patient changed drugs, please select reason."
          }, {
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && !isEmpty(myValue) && (!arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan))",
            "message": "Patient has not changed drugs, please do not select a reason."
          }],
          "hide": {
            "hideWhenExpression": "!arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)"
          }
        }]
      }, {
        "id": "pcpToxicityCause",
        "label": "If toxicity, please provide cause:",
        "questionOptions": {
          "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
            "label": "Anaemia"
          }, {
            "concept": "a8909060-1350-11df-a1f1-0026b9348838",
            "label": "Hepatitis"
          }, {
            "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
            "label": "IRIS"
          }, {
            "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
            "label": "Lactic acidosis"
          }, {
            "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
            "label": "Lipo-dystrophy"
          }, {
            "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
            "label": "Neuropathy"
          }, {
            "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
            "label": "Persistent vomiting"
          }, {
            "concept": "a895776a-1350-11df-a1f1-0026b9348838",
            "label": "Rash"
          }, {
            "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
            "label": "Steven-johnson syndrome"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(pcpProphylaxisChangeReason) && isEmpty(myValue) && (pcpProphylaxisChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
          "message": "You indicated patient is changing /changing dose/substituting/stopping PCP due to toxicity, cause should be selected."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(pcpProphylaxisChangeReason) && !isEmpty(myValue) && (pcpProphylaxisChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
          "message": "You indicated patient is not changing/dose/substituting/stopping PCP due to toxicity, cause should not be selected."
        }],
        "hide": {
          "hideWhenExpression": "pcpProphylaxisChangeReason !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "If toxicity, please provide cause: Other (specify):",
        "id": "q25OtherToxicity",
        "questionOptions": {
          "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
          "rendering": "text"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(pcpToxicityCause) && isEmpty(myValue) && pcpToxicityCause==='a8aaf3e2-1350-11df-a1f1-0026b9348838'",
          "message": "You indicated patient is changing /changing dose/substituting/stopping PCP due to other toxicity, indicate the other cause."
        }],
        "hide": {
          "hideWhenExpression": "pcpToxicityCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "If Start/Change, regimen:",
        "id": "pcpPlanMedication",
        "questionOptions": {
          "concept": "a89b82cc-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a8989396-1350-11df-a1f1-0026b9348838",
            "label": "Septrin"
          }, {
            "concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
            "label": "Dapsone 100mg"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838', 'a89b7c50-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)",
          "message": "You indicated patient is starting/continuing/changing PCP regimen. Please select regimen."
        }],
        "hide": {
          "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838', 'a89b7c50-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)"
        }
      }]
    }, {
      "label": "TB Prophylaxis Plan",
      "isExpanded": "true",
      "questions": [{
        "label": "TB prophylaxis plan:",
        "required": "true",
        "id": "tbpropplan",
        "questionOptions": {
          "concept": "a89c1cfa-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
            "label": "Continue"
          }, {
            "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
            "label": "Start"
          }, {
            "concept": "a8a00220-1350-11df-a1f1-0026b9348838",
            "label": "Restart"
          }, {
            "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
            "label": "Stop"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
          "message": "Patient marked as on TB prophylaxis in History section. Therefore plan can only be continue ,stop"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
          "message": "Patient marked as not on TB prophylaxis in History section. Therefore plan can only be None,Start,Restart"
        }]
      }, {
        "type": "obsGroup",
        "label": "stopping reason",
        "questionOptions": {
          "concept": "a8a0780e-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "If stopping, reason:",
          "id": "tbpropreasonstop",
          "questionOptions": {
            "concept": "a89c1e12-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a890a96a-1350-11df-a1f1-0026b9348838",
              "label": "Active TB"
            }, {
              "concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
              "label": "Completed"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }, {
              "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
              "label": "Toxicity"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "tbpropplan !== 'a89b7d36-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "If toxicity, please provide cause:",
          "id": "toxCause",
          "questionOptions": {
            "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
              "label": "Anaemia"
            }, {
              "concept": "a8909060-1350-11df-a1f1-0026b9348838",
              "label": "Hepatitis"
            }, {
              "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
              "label": "IRIS"
            }, {
              "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
              "label": "Lactic Acidosis"
            }, {
              "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
              "label": "Lipo-dystrophy"
            }, {
              "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
              "label": "Neuropathy"
            }, {
              "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
              "label": "Persistent vomiting"
            }, {
              "concept": "a895776a-1350-11df-a1f1-0026b9348838",
              "label": "Rash"
            }, {
              "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
              "label": "Steven-Johnson syndrome"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "tbpropreasonstop !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "If toxicity, please provide cause: Other (specify):",
          "id": "toxcauseOther",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "toxCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }]
    }, {
      "label": "TB Treatment Plan",
      "isExpanded": "true",
      "questions": [{
        "label": "TB Treatment Started, detailed",
        "type": "obsGroup",
        "questionOptions": {
          "concept": "a89fe6f0-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "TB treatment plan:",
          "id": "tbTreatmentPlan",
          "required": "true",
          "questionOptions": {
            "concept": "a89c1fd4-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
              "label": "None"
            }, {
              "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
              "label": "Continue regimen"
            }, {
              "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
              "label": "Start induction"
            }, {
              "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
              "label": "Change to continuation"
            }, {
              "concept": "a898c938-1350-11df-a1f1-0026b9348838",
              "label": "Re-dose"
            }, {
              "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
              "label": "Substitution"
            }, {
              "concept": "a8a00220-1350-11df-a1f1-0026b9348838",
              "label": "Restart"
            }, {
              "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
              "label": "Stop"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
            "message": "Patient marked as on TB in TB History section. Therefore plan can only be drug substitution, continue regimen, change dose, change regimen"
          }, {
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
            "message": "Patient marked as not on TB in TB History section. Therefore plan can only be None, start"
          }]
        }]
      }, {
        "type": "obsGroup",
        "label": "TB Plan Change Reason",
        "questionOptions": {
          "concept": "a8a078cc-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "If plan is to stop/change/re-dose/substitute, reason:",
          "id": "tbPlanChangeReason",
          "questionOptions": {
            "concept": "a89c20b0-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
              "label": "Completed"
            }, {
              "concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
              "label": "Drug out of stock"
            }, {
              "concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
              "label": "Pill burden"
            }, {
              "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
              "label": "Changing to adult regimen"
            }, {
              "concept": "a8909e8e-1350-11df-a1f1-0026b9348838",
              "label": "Pregnancy"
            }, {
              "concept": "e38b3e51-8a27-4bf6-b0c8-e0b285e4bb2f",
              "label": "Risk of pregnancy"
            }, {
              "concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
              "label": "Toxicity"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(tbTreatmentPlan) && isEmpty(myValue) && arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)",
            "message": "You indicated patient is changing/changing dose/substituting/stopping tb treatment, reason for changing should be selected."
          }],
          "hide": {
            "hideWhenExpression": "!arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
          }
        }, {
          "label": "If toxicity, please provide cause:",
          "id": "tbToxicityCause",
          "questionOptions": {
            "concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
              "label": "Anaemia"
            }, {
              "concept": "a8909060-1350-11df-a1f1-0026b9348838",
              "label": "Hepatitis"
            }, {
              "concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
              "label": "IRIS"
            }, {
              "concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
              "label": "Lactic acidosis"
            }, {
              "concept": "a89cee50-1350-11df-a1f1-0026b9348838",
              "label": "Lipo-dystrophy"
            }, {
              "concept": "a897fe86-1350-11df-a1f1-0026b9348838",
              "label": "Neuropathy"
            }, {
              "concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
              "label": "Persistent vomiting"
            }, {
              "concept": "a895776a-1350-11df-a1f1-0026b9348838",
              "label": "Rash"
            }, {
              "concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
              "label": "Steven-Johnson syndrome"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(tbPlanChangeReason)&&isEmpty(myValue) && (tbPlanChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
            "message": "You indicated patient is changing /changing dose/substituting/stopping tb treatment due to toxicity, cause should be selected."
          }, {
            "type": "js_expression",
            "failsWhenExpression": "!isEmpty(tbPlanChangeReason) && !isEmpty(myValue) && (tbPlanChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
            "message": "You indicated patient is not changing/dose/substituting/stopping tb treatment due to toxicity, cause should be selected."
          }],
          "hide": {
            "hideWhenExpression": "tbPlanChangeReason !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "label": "If toxicity, please provide cause, other (specify):",
          "type": "obs",
          "id": "toxicityOther",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "validators": [],
          "hide": {
            "hideWhenExpression": "tbToxicityCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "label": "If re/starting, reason:",
        "id": "tbRestart",
        "type": "obs",
        "questionOptions": {
          "concept": "749d07cb-4994-4ce9-a39c-8a655a487fdd",
          "answers": [{
            "concept": "15316528-adb9-4c33-b21f-2817f0cad769",
            "label": "Defaulted"
          }, {
            "concept": "f6951199-560d-414a-bb5b-1150f07fcea7",
            "label": "Failure"
          }, {
            "concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
            "label": "MDR TB regimen"
          }, {
            "concept": "769822b2-1f1f-4cbb-8371-0e3949e060cc",
            "label": "New treatment"
          }, {
            "concept": "18ac99bf-0805-4929-8d0b-924455850a00",
            "label": "Relapse/re-infection"
          }],
          "rendering": "select"
        },
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(tbTreatmentPlan) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan) && isEmpty(myValue)",
          "message": "You indicated patient is re/starting tb medication, therefore reason should be selected."
        }, {
          "type": "js_expression",
          "failsWhenExpression": "(isEmpty(tbTreatmentPlan) || !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)) && !isEmpty(myValue)",
          "message": "You did not indicate re/start tb medication, therefore reason should not be selected."
        }],
        "hide": {
          "hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
        }
      }, {
        "type": "obsGroup",
        "label": "tbMedPickupSite",
        "questionOptions": {
          "concept": "b55a6d42-3189-4d4c-97bf-772dfe17b887",
          "rendering": "group"
        },
        "questions": [{
          "label": "Site of TB meds pick-up:",
          "id": "tbMedPickupSite",
          "questionOptions": {
            "concept": "16db21cd-10cb-4c31-bb5a-b7619bfbea66",
            "answers": [{
              "concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
              "label": "This AMPATH site"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838', 'a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
          }
        }, {
          "label": "Other Specify:",
          "id": "medspickOther",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "tbMedPickupSite !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "label": "TB Treatment Started, detailed",
        "type": "obsGroup",
        "questionOptions": {
          "concept": "a89fe6f0-1350-11df-a1f1-0026b9348838",
          "rendering": "repeating"
        },
        "questions": [{
          "label": "TB regimen started",
          "questionOptions": {
            "concept": "a89c218c-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a899f51a-1350-11df-a1f1-0026b9348838",
              "label": "RHZE"
            }, {
              "concept": "a897d1a4-1350-11df-a1f1-0026b9348838",
              "label": "RHZ"
            }, {
              "concept": "a8a382ba-1350-11df-a1f1-0026b9348838",
              "label": "RHE"
            }, {
              "concept": "a89b1ca6-1350-11df-a1f1-0026b9348838",
              "label": "RH"
            }, {
              "concept": "a899e19c-1350-11df-a1f1-0026b9348838",
              "label": "EH"
            }, {
              "concept": "a8971c64-1350-11df-a1f1-0026b9348838",
              "label": "Ethambutol"
            }, {
              "concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
              "label": "MDR drugs"
            }, {
              "concept": "a896cc00-1350-11df-a1f1-0026b9348838",
              "label": "INH"
            }, {
              "concept": "a8ac5f2a-1350-11df-a1f1-0026b9348838",
              "label": "Pyrazinamide"
            }, {
              "concept": "a8952e4a-1350-11df-a1f1-0026b9348838",
              "label": "Streptomycin"
            }, {
              "concept": "b8aa06ca-93c6-40ea-b144-c74f841926f4",
              "label": "Rifabutin"
            }, {
              "concept": "a897d0be-1350-11df-a1f1-0026b9348838",
              "label": "Rifampicin"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "select"
          },
          "id": "q26f",
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "arrayContains(['a89b7908-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838', 'a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
          }
        }, {
          "label": "tabs/day",
          "questionOptions": {
            "concept": "a8a07386-1350-11df-a1f1-0026b9348838",
            "max": "30",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "q26f",
            "value": ["a899f51a-1350-11df-a1f1-0026b9348838", "a897d1a4-1350-11df-a1f1-0026b9348838", "a8a382ba-1350-11df-a1f1-0026b9348838"]
          }
        }, {
          "label": "mg",
          "questionOptions": {
            "concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
            "max": "2000",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "q26f",
            "value": ["a899e19c-1350-11df-a1f1-0026b9348838", "a8ac5f2a-1350-11df-a1f1-0026b9348838", "a8952e4a-1350-11df-a1f1-0026b9348838"]
          }
        }, {
          "label": "mg/day",
          "questionOptions": {
            "concept": "a8a0744e-1350-11df-a1f1-0026b9348838",
            "max": "2000",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "q26f",
            "value": ["a896cc00-1350-11df-a1f1-0026b9348838", "a8971c64-1350-11df-a1f1-0026b9348838"]
          }
        }, {
          "label": "tabs",
          "questionOptions": {
            "concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
            "max": "180",
            "min": "0",
            "rendering": "number"
          },
          "type": "obs",
          "hide": {
            "field": "q26f",
            "value": ["b8aa06ca-93c6-40ea-b144-c74f841926f4"]
          }
        }]
      }]
    }, {
      "label": "Cryptococcal Treatment Plan",
      "questions": [{
        "label": "Cryptococcal treatment plan",
        "type": "obs",
        "questionOptions": {
          "concept": "a89c2790-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a89b7908-1350-11df-a1f1-0026b9348838",
            "label": "Continue"
          }, {
            "concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
            "label": "Change regimen"
          }, {
            "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
            "label": "None"
          }, {
            "concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
            "label": "Start"
          }, {
            "concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
            "label": "Stop"
          }],
          "rendering": "select"
        },
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(cryptCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue)&&(cryptCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
          "message": "Patient marked as not on Cryptococcus Treatment. Therefore plan can only be none or start."
        }]
      }]
    }, {
      "label": "Additional Medication Orders",
      "questions": [{
        "type": "obsGroup",
        "label": "Additional medication orders",
        "questionOptions": {
          "rendering": "repeating",
          "concept": "a8a0654e-1350-11df-a1f1-0026b9348838"
        },
        "questions": [{
          "label": "Drug",
          "questionOptions": {
            "concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
            "rendering": "drug"
          },
          "type": "obs",
          "validators": []
        }, {
          "label": "Frequency",
          "questionOptions": {
            "concept": "a8a06184-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "label": "Once a day",
              "concept": "a8a05dc4-1350-11df-a1f1-0026b9348838"
            }, {
              "label": "Twice a day",
              "concept": "a8a05aea-1350-11df-a1f1-0026b9348838"
            }, {
              "label": "Three times a day",
              "concept": "a8a05b9e-1350-11df-a1f1-0026b9348838"
            }, {
              "label": "Four times a day",
              "concept": "a8a05cfc-1350-11df-a1f1-0026b9348838"
            }, {
              "label": "As needed",
              "concept": "9c1dcb23-dc0c-46b2-a755-875ab6d78fc2"
            }, {
              "label": "Other",
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": []
        }, {
          "label": "If tabs, number",
          "questionOptions": {
            "concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
            "rendering": "number"
          },
          "type": "obs"
        }, {
          "label": "If caps, number",
          "questionOptions": {
            "concept": "ea404923-fe2b-4812-aec5-3be7fbe712f7",
            "rendering": "number"
          },
          "type": "obs"
        }, {
          "label": "If mg, number",
          "questionOptions": {
            "concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
            "rendering": "number"
          },
          "type": "obs"
        }, {
          "label": "If ml, number",
          "questionOptions": {
            "concept": "a8a08286-1350-11df-a1f1-0026b9348838",
            "rendering": "number"
          },
          "type": "obs"
        }]
      }]
    }]
  }, {
    "label": "Plan",
    "sections": [{
      "label": "Family Planning Plan",
      "isExpanded": "true",
      "questions": [{
        "label": "Dispense condom today?",
        "id": "condomDispensed",
        "questionOptions": {
          "concept": "a8b034d8-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": []
      }, {
        "label": "Continue modern contraception method?",
        "id": "contCurrentFP",
        "questionOptions": {
          "concept": "9bd08995-617e-407a-bf5d-79f29fbdb289",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "!isEmpty(fpMethod) && isEmpty(myValue) && arrayContains(['a8a713f8-1350-11df-a1f1-0026b9348838', 'a123d949-31f3-4abf-98e3-8504e17ebc00', 'feb48308-a56f-4754-8e8f-8c1698e570cb', 'f8c66a32-3660-4233-ae51-d3a4a1eac44e', '236dba53-1062-46b4-8067-ec8711897dbf', 'a8988b44-1350-11df-a1f1-0026b9348838', 'a897dbd6-1350-11df-a1f1-0026b9348838', 'eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc'], fpMethod)",
          "message": "Based on modern contraception method selected, you must answer this question."
        }],
        "hide": {
          "hideWhenExpression": "fpMethod === 'a899e0ac-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "Does patient wish to start modern contraception method?",
        "id": "famPlanningPlan",
        "questionOptions": {
          "concept": "d1d7056f-42ed-4948-b04f-ef6146c789be",
          "answers": [{
            "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
            "label": "Yes"
          }, {
            "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
            "label": "No"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(contCurrentFP) && contCurrentFP !== 'a899b35c-1350-11df-a1f1-0026b9348838'",
          "message": "Patient does not wish to continue with modern contraception method. Please indicate if they wish to start."
        }],
        "hide": {
          "hideWhenExpression": "isEmpty(contCurrentFP) && fpMethod !== 'a899e0ac-1350-11df-a1f1-0026b9348838' || contCurrentFP === 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }, {
        "label": "If yes, modern contraception method chosen:",
        "id": "famPlanChosen",
        "questionOptions": {
          "concept": "2d55cabe-a778-40a3-9b85-613889037a11",
          "answers": [{
            "concept": "a8a713f8-1350-11df-a1f1-0026b9348838",
            "label": "Bilateral tubal ligation"
          }, {
            "concept": "a123d949-31f3-4abf-98e3-8504e17ebc00",
            "label": "3-year implant"
          }, {
            "concept": "feb48308-a56f-4754-8e8f-8c1698e570cb",
            "label": "5-year implant"
          }, {
            "concept": "f8c66a32-3660-4233-ae51-d3a4a1eac44e",
            "label": "IUCD copper"
          }, {
            "concept": "236dba53-1062-46b4-8067-ec8711897dbf",
            "label": "IUCD hormonal"
          }, {
            "concept": "a8988b44-1350-11df-a1f1-0026b9348838",
            "label": "Injectables (Depo)"
          }, {
            "concept": "a897dbd6-1350-11df-a1f1-0026b9348838",
            "label": "OCP"
          }, {
            "concept": "eaa5796d-0b1c-478b-8c9d-d23cf4c3bddc",
            "label": "Vasectomy"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [{
          "type": "js_expression",
          "failsWhenExpression": "isEmpty(myValue) && !isEmpty(famPlanningPlan) && famPlanningPlan === 'a899b35c-1350-11df-a1f1-0026b9348838'",
          "message": "Patient wishes to start modern contraception method. Please choose method."
        }],
        "hide": {
          "hideWhenExpression": "famPlanningPlan!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
        }
      }]
    }, {
      "label": "Test Orders",
      "isExpanded": "true",
      "questions": [{
        "type": "obsGroup",
        "label": "Test orders",
        "alert": {
          "alertWhenExpression": "(isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838')) && needsVl==true",
          "message": "Patient needs viral load"
        },
        "questionOptions": {
          "concept": "af46861e-597a-48a3-b3d4-a134d0b1c5fa",
          "rendering": "group"
        },
        "questions": [{
          "label": "Tests Ordered",
          "id": "order1",
          "alert": {
            "alertWhenExpression": "(isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838'))",
            "message": "Patient needs viral load"
          },
          "type": "testOrder",
          "questionOptions": {
            "rendering": "repeating",
            "orderSettingUuid": "6f0c9a92-6f24-11e3-af88-005056821db0",
            "orderType": "testorder",
            "selectableOrders": [{
              "concept": "a8982474-1350-11df-a1f1-0026b9348838",
              "label": "Viral load"
            }, {
              "concept": "a896cce6-1350-11df-a1f1-0026b9348838",
              "label": "CD4"
            }, {
              "concept": "a898fe80-1350-11df-a1f1-0026b9348838",
              "label": "HIV DNA PCR "
            }, {
              "concept": "a8908192-1350-11df-a1f1-0026b9348838",
              "label": "CXR"
            }, {
              "concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
              "label": "Sputum AFB"
            }, {
              "concept": "a897e450-1350-11df-a1f1-0026b9348838",
              "label": "Creatinine"
            }, {
              "concept": "a898f50c-1350-11df-a1f1-0026b9348838",
              "label": "CBC"
            }, {
              "concept": "a896ca48-1350-11df-a1f1-0026b9348838",
              "label": "SGPT(ALT)"
            }, {
              "concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
              "label": "AST"
            }, {
              "concept": "a8970a26-1350-11df-a1f1-0026b9348838",
              "label": " CD4 %"
            }, {
              "concept": "a8999fb6-1350-11df-a1f1-0026b9348838",
              "label": "Elisa"
            }, {
              "concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
              "label": "Rapid HIV "
            }, {
              "concept": "a8a47094-1350-11df-a1f1-0026b9348838",
              "label": "TB PCR "
            }, {
              "concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
              "label": "Gene Xpert"
            }, {
              "concept": "a8908a16-1350-11df-a1f1-0026b9348838",
              "label": "Hgb"
            }, {
              "concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
              "label": "TB Culture"
            }, {
              "concept": "a8945678-1350-11df-a1f1-0026b9348838",
              "label": "VDRL"
            }, {
              "concept": "a894590c-1350-11df-a1f1-0026b9348838",
              "label": "Urinalysis"
            }, {
              "concept": "a8af7520-1350-11df-a1f1-0026b9348838",
              "label": "HbA1C"
            }, {
              "concept": "7129af13-e39a-43b0-9923-6d1de22c9c5e",
              "label": "Microalbumin"
            }, {
              "concept": "a89a7418-1350-11df-a1f1-0026b9348838",
              "label": "Potassium"
            }, {
              "concept": "a89dda72-1350-11df-a1f1-0026b9348838",
              "label": "ECGn"
            }, {
              "concept": "a89dd9aa-1350-11df-a1f1-0026b9348838",
              "label": "Echo"
            }]
          }
        }, {
          "label": "Test ordered: Other (specify):",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "validators": []
        }, {
          "label": "Viral load justification:",
          "type": "obs",
          "id": "vljust",
          "questionOptions": {
            "concept": "0a98f01f-57f1-44b7-aacf-e1121650a967",
            "rendering": "select",
            "answers": [{
              "concept": "5931c4d4-4406-4d71-b75d-2205d905cc24",
              "label": "Routine VL"
            }, {
              "concept": "e43ddeb6-3984-499c-a280-3bade1039608",
              "label": "Confirmation of treatment failure (repeat VL at 3M) "
            }, {
              "concept": "a8981934-1350-11df-a1f1-0026b9348838",
              "label": "Clinical failure"
            }, {
              "concept": "c6537e06-9fc2-47da-b679-e2a32824407f",
              "label": "Immunological failure"
            }, {
              "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
              "label": "Single Drug Substitution"
            }, {
              "concept": "a89d109c-1350-11df-a1f1-0026b9348838",
              "label": "Pregnant Mother"
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }]
          },
          "validators": [{
            "type": "js_expression",
            "failsWhenExpression": "isEmpty(myValue) && !(isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838'))",
            "message": "Viral load justification required."
          }],
          "hide": {
            "hideWhenExpression": "isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838')"
          }
        }]
      }]
    }, {
      "label": "Positive Health Diginity & Prevention Services",
      "isExpanded": "true",
      "questions": [{
        "label": "PHDP:",
        "required": "true",
        "questionOptions": {
          "concept": "e7819751-a5b0-485d-a2bc-9d4aa69aa1e4",
          "answers": [{
            "concept": "a8a8b352-1350-11df-a1f1-0026b9348838",
            "label": "Adherence counselling"
          }, {
            "concept": "b76021d2-38c7-42ff-b2eb-0bd558396ef7",
            "label": "STI screening"
          }, {
            "concept": "a2c49302-edb4-4baa-8440-2448eafd0ec1",
            "label": "Substance use"
          }, {
            "concept": "a89accc4-1350-11df-a1f1-0026b9348838",
            "label": "Disclosure to sex partner"
          }, {
            "concept": "a8a4636a-1350-11df-a1f1-0026b9348838",
            "label": "Partner testing"
          }, {
            "concept": "f0a280e8-eb88-41a8-837a-f9949ed1b9cd",
            "label": "Condom distribution"
          }, {
            "concept": "91f43249-73c7-427c-8300-2038fc0d6be8",
            "label": "Needle exchange"
          }, {
            "concept": "05656545-86be-4605-9527-34fb580534b1",
            "label": "Targeted risk reduction"
          }, {
            "concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
            "label": "N/A"
          }],
          "rendering": "multiCheckbox"
        },
        "type": "obs",
        "validators": []
      }]
    }, {
      "label": "Referrals",
      "questions": [{
        "type": "obsGroup",
        "label": "Referrals",
        "questionOptions": {
          "concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "Referrals made to the patient:",
          "id": "referrals",
          "alert": {
            "alertWhenExpression": "(!isEmpty(referrals) && arrayContains(referrals, 'a89fbbd0-1350-11df-a1f1-0026b9348838'))",
            "message": "Caution: This patients last viral load was greater than 1000 and may not qualify for differentiated care."
          },
          "questionOptions": {
            "concept": "a89c2344-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
              "label": "None"
            }, {
              "concept": "a89fbb12-1350-11df-a1f1-0026b9348838",
              "label": "OVC"
            }, {
              "concept": "a8a066ca-1350-11df-a1f1-0026b9348838",
              "label": "ENT"
            }, {
              "concept": "a8a8b352-1350-11df-a1f1-0026b9348838",
              "label": "Adherence counselling"
            }, {
              "concept": "a2187952-59e0-449b-895f-5102b7aed49c",
              "label": "Cardiology"
            }, {
              "concept": "0fa18f9a-95c8-4ab3-81ed-a1bac69063fa",
              "label": "Diabetes"
            }, {
              "concept": "a89accc4-1350-11df-a1f1-0026b9348838",
              "label": "Disclosure counselling"
            }, {
              "concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
              "label": "Hospitalization"
            }, {
              "concept": "073ea366-834b-49bd-b4db-ce4e6c61bbc3",
              "label": "Oncology"
            }, {
              "concept": "a8a8b42e-1350-11df-a1f1-0026b9348838",
              "label": "Mental health services"
            }, {
              "concept": "a8a8afd8-1350-11df-a1f1-0026b9348838",
              "label": "Nutritional support"
            }, {
              "concept": "a89e2df6-1350-11df-a1f1-0026b9348838",
              "label": "Psychosocial support"
            }, {
              "concept": "a8a8b26c-1350-11df-a1f1-0026b9348838",
              "label": "TB/DOT program"
            }, {
              "concept": "c65fcd72-1f3f-4450-b93f-90a87ae64d55",
              "label": "Surgery"
            }, {
              "concept": "0d516ea7-218f-43d4-b5c0-58d126529271",
              "label": "Dermatology"
            }, {
              "concept": "a89e2d1a-1350-11df-a1f1-0026b9348838",
              "label": "Social work"
            }, {
              "concept": "a89fbbd0-1350-11df-a1f1-0026b9348838",
              "label": "Express care "
            }, {
              "concept": "a8a06788-1350-11df-a1f1-0026b9348838",
              "label": "Ophthalmology "
            }, {
              "concept": "a8a002e8-1350-11df-a1f1-0026b9348838",
              "label": "Reproductive health "
            }, {
              "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
              "label": "Other"
            }],
            "rendering": "multiCheckbox"
          },
          "type": "obs",
          "hide": {
            "hideWhenExpression": " 1 !== 1"
          },
          "validators": []
        }, {
          "label": "Referrals made to the patient: Other (specify):",
          "questionOptions": {
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
            "rendering": "text"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "referrals !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }, {
        "label": "If referred for hospitalization, choose location:",
        "questionOptions": {
          "concept": "a89c2420-1350-11df-a1f1-0026b9348838",
          "answers": [{
            "concept": "a89c25d8-1350-11df-a1f1-0026b9348838",
            "label": "Local health centre/hospital"
          }, {
            "concept": "a89c24fc-1350-11df-a1f1-0026b9348838",
            "label": "MTRH"
          }, {
            "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
            "label": "Other"
          }],
          "rendering": "select"
        },
        "type": "obs",
        "validators": [],
        "hide": {
          "hideWhenExpression": "isEmpty(referrals) || !arrayContains(referrals, '057dae68-3d6f-4d79-926c-ed75a0ce7fd5')"
        }
      }, {
        "label": "Reason  for hospitalization",
        "type": "obsGroup",
        "questionOptions": {
          "concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
          "rendering": "repeating"
        },
        "questions": [{
          "label": "Reason for hospitalization:",
          "questionOptions": {
            "concept": "a8a07a48-1350-11df-a1f1-0026b9348838",
            "rendering": "problem"
          },
          "type": "obs",
          "validators": [],
          "hide": {
            "hideWhenExpression": "isEmpty(referrals) || !arrayContains(referrals, '057dae68-3d6f-4d79-926c-ed75a0ce7fd5')"
          }
        }]
      }]
    }, {
      "label": "Transfer Out",
      "questions": [{
        "type": "obsGroup",
        "label": "Transfer care to other centre",
        "questionOptions": {
          "concept": "a8a170e2-1350-11df-a1f1-0026b9348838",
          "rendering": "group"
        },
        "questions": [{
          "label": "Transfer care to other centre:",
          "id": "transferOut",
          "questionOptions": {
            "concept": "a89c2e5c-1350-11df-a1f1-0026b9348838",
            "answers": [{
              "concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
              "label": "AMPATH"
            }, {
              "concept": "a89c301e-1350-11df-a1f1-0026b9348838",
              "label": "Non-AMPATH"
            }, {
              "concept": "a8a17d80-1350-11df-a1f1-0026b9348838",
              "label": "MCH"
            }],
            "rendering": "select"
          },
          "type": "obs",
          "validators": []
        }, {
          "type": "personAttribute",
          "label": "Specify name of AMPATH clinic to which patient is being referred:",
          "id": "transfered_out_to_ampath",
          "required": "false",
          "questionOptions": {
            "rendering": "ui-select-extended",
            "attributeType": "8d87236c-c2cc-11de-8d13-0010c6dffd0f"
          },
          "hide": {
            "hideWhenExpression": "transferOut !== 'a89c2f42-1350-11df-a1f1-0026b9348838'"
          }
        }, {
          "type": "obs",
          "label": "If Non-AMPATH specify where the patient is being referred:",
          "id": "transfered_out_to_non_ampath",
          "required": "false",
          "default": "",
          "questionOptions": {
            "rendering": "text",
            "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838"
          },
          "hide": {
            "hideWhenExpression": "transferOut !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
          }
        }]
      }]
    }, {
      "label": "Next Appointment",
      "isExpanded": "true",
      "questions": [{
        "label": "Return to clinic date:",
        "type": "obs",
        "required": "true",
        "id": "rtc",
        "questionOptions": {
          "concept": "a8a666ba-1350-11df-a1f1-0026b9348838",
          "rendering": "date",
          "weeksList": [2, 4, 6, 8, 12, 16, 24, 36]
        },
        "validators": [{
          "type": "date",
          "allowFutureDates": "true"
        }, {
          "type": "js_expression",
          "failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
          "message": "Return to clinic date should be greater than the encounter date."
        }]
      }]
    }]
  }],
  "referencedForms": [{
    "formName": "component_preclinic-review-v1.0",
    "alias": "pcr1",
    "ref": {
      "uuid": "8fcac059-c86c-4182-85c0-9653e1568ed4",
      "display": "Preclinic Review v1.0 Component"
    }
  }, {
    "formName": "component_hospitalization",
    "alias": "hosp",
    "ref": {
      "uuid": "77d6652f-4653-4434-af6b-6dab84117044",
      "display": "Hospitalization Component"
    }
  }, {
    "formName": "component_immunization-v1.0",
    "alias": "immn1",
    "ref": {
      "uuid": "11b15110-e325-4d0d-bd54-5f55b21301f5",
      "display": "Immunization v1.0 Component"
    }
  }, {
    "formName": "component_art-v1.2",
    "alias": "art12",
    "ref": {
      "uuid": "49eb4af7-7e05-4b3f-aeb0-d1931e27909b",
      "display": "Art v1.2 Component"
    }
  }, {
    "formName": "component_pcp-prophy-v1.2",
    "alias": "pcp12",
    "ref": {
      "uuid": "6493a2dd-d3c3-4ff5-9b2d-02ac6c30fe39",
      "display": "Pcp v1.2 Prophy Component"
    }
  }, {
    "formName": "component_tb-prophy-v1.2",
    "alias": "tbp12",
    "ref": {
      "uuid": "f48291ac-40c5-466b-83ee-62758e804b32",
      "display": "Tb Prophy Component"
    }
  }, {
    "formName": "component_tb-treatment-v1.3",
    "alias": "tbt13",
    "ref": {
      "uuid": "e04b6b46-1682-4804-aa3c-895347c8f402",
      "display": "Tb Treatment Component"
    }
  }, {
    "formName": "component_other-medication",
    "alias": "omed",
    "ref": {
      "uuid": "46205439-ccbf-4f60-80e1-d765861f6257",
      "display": "Other Medication Component"
    }
  }, {
    "formName": "component_crypto",
    "alias": "cryp",
    "ref": {
      "uuid": "4ff5104b-b2d0-4403-9691-4020061d3a2c",
      "display": "Crypto Component"
    }
  }, {
    "formName": "component_side-effect-v1.0",
    "alias": "se1",
    "ref": {
      "uuid": "61293172-88b0-439b-ba03-e661971705a7",
      "display": "Side Effect Component"
    }
  }, {
    "formName": "component_nutrition",
    "alias": "nut",
    "ref": {
      "uuid": "e421b750-e7fc-4194-b55e-6f2c978e1af5",
      "display": "Nutrition Component"
    }
  }, {
    "formName": "component_vitals",
    "alias": "vt",
    "ref": {
      "uuid": "7f5e06a4-92d1-4fc9-9e05-03b414457d69",
      "display": "Vitals Component"
    }
  }, {
    "formName": "component_hpi",
    "alias": "hpi",
    "ref": {
      "uuid": "b91aef27-cd94-4934-94ac-c168ce539cb3",
      "display": "Hpi Component"
    }
  }, {
    "formName": "component_problem-list",
    "alias": "pl",
    "ref": {
      "uuid": "7505e278-64cb-44af-a8ce-0482f1d4691f",
      "display": "Problem List Component"
    }
  }, {
    "formName": "component_who-staging",
    "alias": "who",
    "ref": {
      "uuid": "fdf950e0-ff0a-4d7d-a52b-33a8d5b98fb7",
      "display": "Who Staging Component"
    }
  }, {
    "formName": "component_lab-results",
    "alias": "tr",
    "ref": {
      "uuid": "759e3a62-9f9e-4f56-9593-24f6cef3a5d4",
      "display": "Lab Results Component"
    }
  }, {
    "formName": "component_assessment",
    "alias": "ass",
    "ref": {
      "uuid": "98e061d2-4a16-4665-b0dc-fc0266ee689c",
      "display": "Assessment Component"
    }
  }, {
    "formName": "component_sti-v1.0",
    "alias": "sti1",
    "ref": {
      "uuid": "6515b019-5264-4a61-a7fd-e891ea03b5f4",
      "display": "STI v1.0 Component"
    }
  }, {
    "formName": "component_ob-history-v1.2",
    "alias": "gynhist12",
    "ref": {
      "uuid": "3a6e2b75-cedd-4c6a-9630-b601a6e748b9",
      "display": "Ob History v1.2 Component"
    }
  }, {
    "formName": "component_lab-orders-v1.0",
    "alias": "to",
    "ref": {
      "uuid": "61a262b6-3238-4187-9740-dea29ea4f7e4",
      "display": "Lab Orders v1.0 Component"
    }
  }, {
    "formName": "component_referral",
    "alias": "ref",
    "ref": {
      "uuid": "f18a6b65-f55b-4d53-afe2-b929bbb66a70",
      "display": "Referral Component"
    }
  }, {
    "formName": "component_reproductive-history-v1.0",
    "alias": "reh1",
    "ref": {
      "uuid": "736c13c0-d9d9-4a31-9dfe-a1b0c6f28fe0",
      "display": "Rpeoductive history v1.0 Component"
    }
  }, {
    "formName": "component_positive-health-&-prevention-services-v1.0",
    "alias": "phdp",
    "ref": {
      "uuid": "4da1548d-e098-4658-a847-8d42f45059f4",
      "display": "PHDP Component"
    }
  }, {
    "formName": "component_vl-justification",
    "alias": "vljust",
    "ref": {
      "uuid": "c47dd152-9996-4ec9-94bb-434f85a6a2b5",
      "display": "VL Justification Component"
    }
  }, {
    "formName": "component_family-planning-v1.0",
    "alias": "fp1",
    "ref": {
      "uuid": "68363308-0a91-4541-9934-c3e770416d51",
      "display": "Family Planning v1.0 Component"
    }
  }],
  "processor": "EncounterFormProcessor"
}
